(this["webpackJsonpant-dashboard"]=this["webpackJsonpant-dashboard"]||[]).push([[0],{240:function(e,t,n){},241:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=(n(240),n(7)),o=n(50),l=(n(241),n(432)),d=n(433),j=n(28),u=n(19),b=n(16),h=n(1),x=function(e){var t=e.component,n=e.layout,a=e.exact,r=e.path;return Object(h.jsx)(u.a,{exact:a,path:r,render:function(e){return Object(h.jsx)(n,Object(b.a)(Object(b.a)({},e),{},{children:Object(h.jsx)(t,Object(b.a)({},e))}))}})},O=n(117),p=n(118),g=n(119),m=n(209),f=n(207),v=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={error:null},a}return Object(g.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.error?Object(h.jsxs)("h1",{children:["Something went wrong. Error: ",this.state.error.message]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(a.Component),y=n(334),w=n(218),k=n(436),A=n(386),B=n(214),S=n(385),C=n(120),N=n.n(C),L=n(71),I=sessionStorage.getItem("api_host")||"http://localhost:1633",E=sessionStorage.getItem("debug_api_host")||"http://localhost:1635",P=function(){return new L.Bee(I)},q=function(){return new L.Bee(E)},D=function(){return new L.BeeDebug(E)},T={health:function(){return P().isConnected()}},R={uploadFile:function(e,t){return P().uploadFile(e,t)},downloadFile:function(e){return P().downloadFile(e)}},F={getPostageStamps:function(){return q().getAllPostageBatch()},buyPostageStamp:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return q().createPostageBatch(e.toString(),t,n)}},U={status:{nodeHealth:function(){return D().getHealth()}},connectivity:{addresses:function(){return D().getNodeAddresses()},listPeers:function(){return D().getPeers()},topology:function(){return D().getTopology()},ping:function(e){return D().pingPeer(e)}},balance:{balances:function(){return D().getAllBalances()}},chequebook:{address:function(){return D().getChequebookAddress()},balance:function(){return D().getChequebookBalance()},getLastCheques:function(){return D().getLastCheques()},peerCashout:function(e){return D().cashoutLastCheque(e)},getPeerLastCashout:function(e){return D().getLastCashoutAction(e)},getPeerLastCheques:function(e){return D().getLastChequesForPeer(e)},withdraw:function(e){return D().withdrawTokens(e.toString())},deposit:function(e){return D().depositTokens(e.toString())}},settlements:{getSettlements:function(){return D().getAllSettlements()}}},W=n(68),V=n.n(W),z=n(27),H=n.n(z);function K(e){return z.BigNumber.isBigNumber(e)&&e.isInteger()||"bigint"===typeof e}function Y(e){if(z.BigNumber.isBigNumber(e))return e;if("string"===typeof e)return new z.BigNumber(e);if("bigint"===typeof e)return new z.BigNumber(e.toString());if("number"===typeof e)return new z.BigNumber(e);throw new TypeError("Not a BigNumber or BigNumber convertible value. Type: ".concat(typeof e," value: ").concat(e))}var G=[18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0],X=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;Object(p.a)(this,e),this.amount=void 0,this.decimals=void 0;var a=Y(t);if(!K(a)||!G.includes(n))throw new TypeError("Not a valid token values");this.amount=a,this.decimals=n}return Object(g.a)(e,[{key:"toBigInt",get:function(){return BigInt(this.amount.toFixed(0))}},{key:"toString",get:function(){return this.amount.toFixed(0)}},{key:"toBigNumber",get:function(){return new z.BigNumber(this.amount)}},{key:"toDecimal",get:function(){return this.amount.dividedBy(new z.BigNumber(10).pow(this.decimals))}},{key:"toFixedDecimal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return this.toDecimal.toFixed(e)}}],[{key:"fromDecimal",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=Y(t),r=a.multipliedBy(new z.BigNumber(10).pow(n));return new e(r,n)}}]),e}(),Q=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),T.health().then((function(e){r(e)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{health:n,isLoadingHealth:o,error:u}},M=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),U.status.nodeHealth().then((function(e){r(e)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{nodeHealth:n,isLoadingNodeHealth:o,error:u}},Z=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),U.connectivity.addresses().then((function(e){r(e)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{nodeAddresses:n,isLoadingNodeAddresses:o,error:u}},J=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),U.connectivity.topology().then((function(e){r(e)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{topology:n,isLoading:o,error:u}},_=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),U.chequebook.address().then((function(e){r(e)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{chequebookAddress:n,isLoadingChequebookAddress:o,error:u}},$=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),U.chequebook.balance().then((function(e){var t=e.totalBalance,n=e.availableBalance,a={totalBalance:new X(t),availableBalance:new X(n)};r(a)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{chequebookBalance:n,isLoadingChequebookBalance:o,error:u}},ee=n(127),te=n.n(ee),ne=function(){var e,t,n=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){V.a.get("".concat("https://api.github.com/repos/ethsana/sana","/releases/latest")).then((function(e){r(e.data)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{latestBeeRelease:n,isLoadingLatestBeeRelease:o,error:u}}(),r=n.latestBeeRelease,c=n.isLoadingLatestBeeRelease,i=M(),o=i.nodeHealth,l=i.isLoadingNodeHealth,d=null===(e=te.a.coerce(null===r||void 0===r?void 0:r.name))||void 0===e?void 0:e.version,j=null===(t=te.a.coerce(null===o||void 0===o?void 0:o.version))||void 0===t?void 0:t.version,u=Boolean(d&&j&&te.a.satisfies(d,j,{includePrerelease:!0}));return{isLoading:l||c,isOk:!0,userVersion:null===o||void 0===o?void 0:o.version,latestVersion:d,latestUrl:(null===r||void 0===r?void 0:r.html_url)||"https://github.com/ethersphere/bee/releases/latest",isLatestBeeVersion:u}},ae=function(){var e=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)({work:!1,reward:"0",pending:"0",expire:"0"}),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){var e=function(){r(!0),V.a.get("".concat(sessionStorage.getItem("debug_api_host")||"http://localhost:1635","/mine/status")).then((function(e){b(null===e||void 0===e?void 0:e.data)})).catch((function(e){l(e),b(null)})).finally((function(){r(!1)}))};e();var t=setInterval((function(){return e()}),1e4);return function(){clearInterval(t)}}),[]),{isLoadingEarnsInfo:n,error:o,earnsInfo:u}}(),t=e.isLoadingEarnsInfo,n=(e.error,e.earnsInfo);if(!n)return{reward:new X("0"),pending:new X("0"),totalEarns:new X("0"),isWork:!1,isLoadingEarnsInfo:t,isLockup:!1,error:"connected fail"};var r=new X(n.reward),c=new X(n.pending),i=new X(r.toBigNumber.plus(c.toBigNumber)),o=Number(n.expire)-(new Date).getTime()<=0;return{reward:r,pending:c,totalEarns:i,isWork:Boolean(n.work),isLoadingEarnsInfo:t,isLockup:o,error:""}},re=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",marginBottom:e.spacing(2)}})}));function ce(e){var t=re(),n=ne(),r=n.isLoading,c=n.userVersion,i=Object(a.useState)(!0),o=Object(s.a)(i,2),l=o[0],d=o[1];if(r||e.isLoadingNodeHealth)return null;var j=e.version===c;return Object(h.jsx)(B.a,{in:!j&&l,children:Object(h.jsx)("div",{className:t.root,children:Object(h.jsxs)(k.a,{severity:"warning",action:Object(h.jsx)(S.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){d(!1)},children:Object(h.jsx)(N.a,{fontSize:"inherit"})}),children:[Object(h.jsx)(A.a,{children:"Warning"}),"Your Ant node version (",Object(h.jsx)("code",{children:c}),") does not exactly match the Ant version we tested the Ant Dashboard against (",Object(h.jsx)("code",{children:e.version}),"). Please note that some functionality may not work properly."]})})})}var ie=n(388),se=n(390),oe=n(391),le=n(335),de=n(392),je=n(393),ue=n(394),be=n(387),he=n(188),xe=n.n(he),Oe=n(189),pe=n.n(Oe),ge=n(190),me=n.n(ge),fe=n(187),ve=n.n(fe),ye=n(186),we=n.n(ye),ke=[{label:"Status",id:"status",path:"/",icon:be.a},{label:"Files",id:"files",path:"/files/",icon:we.a},{label:"Stamps",id:"stamps",path:"/stamps/",icon:ve.a},{label:"Accounting",id:"accounting",path:"/accounting/",icon:xe.a},{label:"Peers",id:"peers",path:"/peers/",icon:pe.a},{label:"Settings",id:"settings",path:"/settings/",icon:me.a}],Ae=Object(y.a)((function(e){var t="light"===e.palette.type;return Object(w.a)({root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,backgroundColor:e.palette.background.paper,boxShadow:"none"},drawerContainer:{overflow:"auto"},activeSideBar:{},activeSideBarItem:{backgroundColor:"rgba(255, 255, 255, ".concat(t?"0.4":"0.16",")")},toolbar:e.mixins.toolbar})}));function Be(e){var t,n=Ae();return Object(h.jsx)("div",{className:n.root,children:Object(h.jsxs)(ie.a,{className:n.drawer,variant:"permanent",classes:{paper:n.drawerPaper},children:[Object(h.jsxs)("div",{className:n.drawerContainer,children:[Object(h.jsx)(se.a,{}),Object(h.jsx)(oe.a,{children:ke.map((function(t){return Object(h.jsx)(o.b,{to:t.path,style:{color:"inherit",textDecoration:"none"},children:Object(h.jsxs)(le.a,{button:!0,selected:e.location.pathname===t.path,className:e.location.pathname===t.path?n.activeSideBarItem:"",children:[Object(h.jsx)(de.a,{children:Object(h.jsx)(t.icon,{})}),Object(h.jsx)(je.a,{primary:t.label,className:e.location.pathname===t.path?n.activeSideBar:""})]})},t.id)}))}),Object(h.jsx)(ue.a,{})]}),Object(h.jsx)("div",{style:{position:"fixed",bottom:0,width:"inherit",padding:"10px"},children:Object(h.jsxs)(le.a,{children:[Object(h.jsxs)("div",{style:{marginRight:"30px"},children:[Object(h.jsx)("div",{style:{backgroundColor:e.health?"#32c48d":"#c9201f",marginRight:"7px",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}}),Object(h.jsx)("span",{children:"API"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{backgroundColor:"ok"===(null===(t=e.nodeHealth)||void 0===t?void 0:t.status)?"#32c48d":"#c9201f",marginRight:"7px",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}}),Object(h.jsx)("span",{children:"Debug API"})]})]})})]})})}var Se=n(437),Ce=n.p+"static/media/sana-logo-light.710eb502.svg",Ne=n.p+"static/media/sana-logo-dark.671b1352.svg",Le=Object(y.a)((function(e){return Object(w.a)({logo:{width:200,flexShrink:0,flexGrow:0},network:{color:"#fff",backgroundColor:"#32c48d"}})}));function Ie(){var e=Le(),t=Object(a.useContext)(ba).theme;return Object(h.jsxs)(se.a,{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(h.jsx)("div",{className:e.logo,children:Object(h.jsx)("img",{src:"light"===t?Ce:Ne,alt:"sana logo",width:"50"})}),Object(h.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(h.jsx)(Se.a,{style:{marginLeft:"7px"},size:"small",label:"Goerli",className:e.network})})]})}var Ee=n(395),Pe=Object(y.a)((function(e){return Object(w.a)({root:{padding:0},main:{marginLeft:"240px",flexGrow:1,minHeight:"calc(100vh - 64px)",backgroundColor:e.palette.background.default,padding:"12px",boxSizing:"border-box"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:e.palette.background.default,flexGrow:1},toolbar:{width:"100%",justifyContent:"space-between"},title:Object(O.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"})})})),qe=function(e){var t=Pe(),n=Object(a.useState)("light"),r=Object(s.a)(n,2),c=r[0],i=(r[1],Q().health),o=M(),l=o.nodeHealth,d=o.isLoadingNodeHealth,j=null===l||void 0===l?void 0:l.version;return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(Ee.a,{position:"fixed",className:t.appBar,children:Object(h.jsx)(Ie,{})}),Object(h.jsx)("div",{style:{height:"64px"}}),Object(h.jsx)(Be,Object(b.a)(Object(b.a)({},e),{},{themeMode:c,health:i,nodeHealth:l})),Object(h.jsx)(v,{children:Object(h.jsxs)("main",{className:t.main,children:[Object(h.jsx)(ce,{version:j,isLoadingNodeHealth:d}),e.children]})})]})},De=n(399),Te=n(400),Re=n(131),Fe=n(72),Ue=n(398),We=n(438),Ve=n(409),ze=n(342),He=n(413),Ke=n(416),Ye=n(408),Ge=n(410),Xe=n(411),Qe=n(412),Me=n(414),Ze=n(415),Je=n(396);function _e(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(""),u=Object(s.a)(j,2),b=u[0],x=u[1];return Object(h.jsx)("div",{children:r?Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)(Je.a,{defaultValue:e.defaultHost,label:"Enter host",variant:"outlined",size:"small",onChange:function(e){return x(e.target.value)},style:{marginRight:"15px",minWidth:"300px"}}),Object(h.jsx)(Ue.a,{onClick:function(){b&&(d(!0),sessionStorage.setItem(e.hostName,b),c(!r),window.location.reload())},size:"small",variant:"outlined",children:"Connect"}),Object(h.jsx)(Ue.a,{style:{marginLeft:"7px"},onClick:function(){return c(!r)},size:"small",children:"Cancel"})]}):l?Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"0px"},children:Object(h.jsx)(Te.a,{size:20})}):Object(h.jsx)(Ue.a,{onClick:function(){return c(!r)},size:"small",variant:"outlined",children:"Change host"})})}function $e(e){var t=e.isLoading,n=e.isOk;if(t)return null;var a=Object(h.jsxs)("div",{style:{display:"flex",marginTop:"25px",marginBottom:"25px"},children:[Object(h.jsxs)("span",{style:{marginRight:"15px"},children:["Debug API (",Object(h.jsx)(Fe.a,{variant:"button",children:E}),")"]}),Object(h.jsx)(_e,{hostName:"debug_api_host",defaultHost:E})]});return n?a:Object(h.jsxs)("div",{children:[a,Object(h.jsx)("div",{children:Object(h.jsxs)(Fe.a,{component:"div",variant:"body2",gutterBottom:!0,style:{margin:"15px"},children:["We cannot connect to your nodes debug API at ",Object(h.jsx)(Fe.a,{variant:"button",children:E}),". Please check the following to troubleshoot your issue."]})})]})}function et(e){var t=e.isLoading,n=e.isOk;return t?null:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{style:{display:"flex",marginBottom:"25px"},children:[Object(h.jsxs)("span",{style:{marginRight:"15px"},children:["Node API (",Object(h.jsx)(Fe.a,{variant:"button",children:I}),")"]}),Object(h.jsx)(_e,{hostName:"api_host",defaultHost:I})]}),Object(h.jsx)("div",{children:!n&&Object(h.jsxs)(Fe.a,{component:"div",variant:"body2",gutterBottom:!0,style:{margin:"15px"},children:["We cannot connect to your nodes API at ",Object(h.jsx)(Fe.a,{variant:"button",children:I}),". Please check the following to troubleshoot your issue."]})})]})}function tt(e){var t=e.isLoading,n=e.isOk,a=e.userVersion,r=e.latestVersion,c=e.latestUrl;if(t)return null;var i=Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsxs)("div",{style:{marginRight:"30px"},children:[Object(h.jsx)("p",{children:Object(h.jsx)("span",{children:"User Version"})}),Object(h.jsx)(Fe.a,{component:"h5",variant:"h5",children:Object(h.jsx)("span",{children:a||"--"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:Object(h.jsx)("span",{children:"Latest Version"})}),Object(h.jsx)(Fe.a,{component:"h5",variant:"h5",children:Object(h.jsx)("span",{children:r})})]})]});return n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:"You are running the latest version of Ant"}),i]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:["Your Ant version is out of date. Please update to the"," ",Object(h.jsx)("a",{href:c,rel:"noreferrer",target:"_blank",children:"latest"})," ","before continuing. Rerun the installation script below to upgrade. Reference the docs for help with updating."," ",Object(h.jsx)("a",{href:"https://docs.ethswarm.org/docs/installation/manual#upgrading-bee",rel:"noreferrer",target:"_blank",children:"Docs"})]}),i]})}var nt=n(191),at=n.n(nt),rt=n(402),ct=n(403),it=n(401);function st(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(S.a,{color:"primary",size:"small",onClick:function(){c(!0)},children:Object(h.jsx)(it.a,{})}),Object(h.jsx)(rt.a,{onClose:function(){c(!1)},"aria-labelledby":"simple-dialog-title",open:r,children:Object(h.jsxs)("div",{style:{padding:"30px",textAlign:"center"},children:[Object(h.jsx)(ct.a,{id:"simple-dialog-title",children:e.label}),Object(h.jsx)(at.a,{value:e.value,size:150,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!1,renderAs:"svg"})]})})]})}var ot=n(192),lt=n(404);function dt(e){var t=e.value,n=Object(j.b)().enqueueSnackbar;return Object(h.jsx)("div",{style:{marginRight:"3px",marginLeft:"3px"},children:Object(h.jsx)(S.a,{color:"primary",size:"small",onClick:function(){return n("Copied: ".concat(t),{variant:"success"})},children:Object(h.jsx)(ot.CopyToClipboard,{text:t,children:Object(h.jsx)(lt.a,{style:{height:"20px"}})})})})}var jt=n(193),ut=n.n(jt);function bt(e){return Object(h.jsx)(Fe.a,{component:"div",variant:"subtitle1",children:e.address?Object(h.jsxs)("div",{style:{display:"flex"},children:[e.hideBlockie?null:Object(h.jsx)("div",{style:{paddingTop:"5px",marginRight:"10px"},children:Object(h.jsx)(ut.a,{style:{width:"23"}})}),Object(h.jsx)("div",{children:Object(h.jsx)("a",{style:e.truncate?{marginRight:"7px",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"}:{marginRight:"7px"},href:"https://".concat(e.network,".").concat("etherscan.io","/").concat(e.transaction?"tx":"address","/").concat(e.address),target:"_blank",rel:"noreferrer",children:e.address})}),Object(h.jsx)(st,{value:e.address,label:"Ethereum Address"}),Object(h.jsx)(dt,{value:e.address})]}):"-"})}function ht(e){var t=e.isLoading,n=e.isOk,a=e.nodeAddresses;return t?null:n?Object(h.jsxs)("div",{children:[Object(h.jsx)(Fe.a,{variant:"subtitle1",gutterBottom:!0,children:"Node Address"}),Object(h.jsx)(bt,{address:null===a||void 0===a?void 0:a.ethereum,network:"goerli"})]}):Object(h.jsxs)("p",{children:["Your Ant node must have access to the Ethereum blockchain, so that it can interact and deploy your chequebook contract. You can run"," ",Object(h.jsx)("a",{href:"https://github.com/goerli/testnet",rel:"noreferrer",target:"_blank",children:"your own Goerli node"}),", or use a provider such as"," ",Object(h.jsx)("a",{href:"https://rpc.slock.it/goerli",rel:"noreferrer",target:"_blank",children:"rpc.slock.it/goerli"})," ","or"," ",Object(h.jsx)("a",{href:"https://infura.io/",rel:"noreferrer",target:"_blank",children:"Infura"}),". By default, Ant expects a local Goerli node at http://localhost:8545. To use a provider instead, simply change your ",Object(h.jsx)("strong",{children:"--swap-endpoint"})," in your configuration file."]})}var xt=n(53),Ot=n.n(xt),pt=n(79),gt=n(336),mt=n(407),ft=n(405),vt=n(406),yt=n(339);function wt(e){var t=e.successMessage,n=e.errorMessage,r=e.dialogMessage,c=e.min,i=e.max,o=e.label,l=e.action,d=Object(a.useState)(!1),u=Object(s.a)(d,2),b=u[0],x=u[1],O=Object(a.useState)(""),p=Object(s.a)(O,2),g=p[0],m=p[1],f=Object(a.useState)(null),v=Object(s.a)(f,2),y=v[0],w=v[1],k=Object(a.useState)(null),A=Object(s.a)(k,2),B=A[0],S=A[1],C=Object(j.b)().enqueueSnackbar,N=function(){x(!1)},L=function(){var e=Object(pt.a)(Ot.a.mark((function e(){var a;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==y){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l(y.toBigInt);case 5:a=e.sent,x(!1),C("".concat(t," Transaction ").concat(a),{variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),C("".concat(n," Error: ").concat(e.t0.message),{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)(Ue.a,{variant:"outlined",color:"primary",onClick:function(){x(!0)},children:o}),Object(h.jsxs)(rt.a,{open:b,onClose:N,"aria-labelledby":"form-dialog-title",children:[Object(h.jsx)(ct.a,{id:"form-dialog-title",children:o}),Object(h.jsxs)(ft.a,{children:[Object(h.jsx)(vt.a,{children:r}),Object(h.jsx)(gt.a,{autoFocus:!0,margin:"dense",id:"name",type:"text",placeholder:"Amount",fullWidth:!0,value:g,onChange:function(e){var t=e.target.value;m(t),S(null);try{var n=X.fromDecimal(t);w(n),c&&n.toDecimal.isLessThan(c)&&S(new Error("Needs to be more than ".concat(c))),i&&n.toDecimal.isGreaterThan(i)&&S(new Error("Needs to be less than ".concat(i)))}catch(e){S(e)}}}),B&&Object(h.jsxs)(yt.a,{error:!0,children:["Please provide valid SANA amount (max 16 decimals). Error: ",B.message]})]}),Object(h.jsxs)(mt.a,{children:[Object(h.jsx)(Ue.a,{onClick:N,color:"primary",children:"Cancel"}),Object(h.jsx)(Ue.a,{onClick:L,color:"primary",children:o})]})]})]})}function kt(){return Object(h.jsx)(wt,{successMessage:"Successful deposit.",errorMessage:"Error with depositing",dialogMessage:"Specify the amount of SANA you would like to withdraw from your node.",label:"Deposit",min:new z.BigNumber(0),action:U.chequebook.deposit})}var At=function(e){var t=e.isLoading,n=e.chequebookAddress,a=e.chequebookBalance,r=e.ethereumAddress;return t?null:Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{style:{marginBottom:"20px",display:"flex"},children:(null===n||void 0===n?void 0:n.chequebookAddress)&&Object(h.jsx)(kt,{})}),Object(h.jsx)("div",{style:{marginBottom:"10px"},children:!((null===n||void 0===n?void 0:n.chequebookAddress)&&(null===a||void 0===a?void 0:a.totalBalance.toBigNumber.isGreaterThan(0)))&&Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:["Your chequebook is either not deployed or funded. Join"," ",Object(h.jsx)("a",{href:"https://discord.gg/c72mpR7Erf",children:"our discord channel"}),", get verified and send a message"," ",Object(h.jsxs)("pre",{children:["sprinkle ",r||"<YOUR ANT NODE ETH ADDRESS>"]})," in the ",Object(h.jsx)("pre",{children:"#faucet-request"})," ","channel to get Goerli ETH and Goerli SANA token."]})})}),Object(h.jsx)(Fe.a,{variant:"subtitle1",gutterBottom:!0,children:"Chequebook Address"}),Object(h.jsx)(bt,{address:null===n||void 0===n?void 0:n.chequebookAddress,network:"goerli"})]})};function Bt(e){var t=e.isLoading,n=e.isOk,a=e.topology;if(t)return null;var r=Object(h.jsxs)("div",{style:{display:"flex",marginTop:"15px"},children:[Object(h.jsxs)("div",{style:{marginRight:"30px"},children:[Object(h.jsx)(Fe.a,{component:"div",variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:Object(h.jsx)("span",{children:"Connected Peers"})}),Object(h.jsx)(Fe.a,{component:"h2",variant:"h5",children:(null===a||void 0===a?void 0:a.connected)?a.connected:"-"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Fe.a,{component:"div",variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:Object(h.jsx)("span",{children:"Discovered Nodes"})}),Object(h.jsx)(Fe.a,{component:"h2",variant:"h5",children:(null===a||void 0===a?void 0:a.population)?a.population:"-"})]})]});return n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:"You are connected to peers!"}),r]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:"Your node is not connected to any peers"}),r]})}var St=Object(y.a)((function(e){return Object(w.a)({root:{padding:e.spacing(2),width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{margin:e.spacing(2)}})}));function Ct(e){var t,n=e.nodeVersion,r=e.ethereumConnection,c=e.debugApiConnection,i=e.apiConnection,o=e.topology,l=e.chequebook,d=St(),j=Object(a.useState)(-1),u=Object(s.a)(j,2),x=u[0],O=u[1],p=[{label:"Connected to Node DebugAPI",isOk:c.isOk,isLoading:c.isLoading,component:Object(h.jsx)($e,Object(b.a)({},c))},{label:"Running latest Ant version",isOk:n.isOk,isLoading:n.isLoading,component:Object(h.jsx)(tt,Object(b.a)({},n))},{label:"Connected to Ethereum Blockchain",isOk:r.isOk,isLoading:r.isLoading,component:Object(h.jsx)(ht,Object(b.a)({},r))},{label:"Deployed and Funded Chequebook",isOk:l.isOk,isLoading:l.isLoading,component:Object(h.jsx)(At,Object(b.a)({ethereumAddress:null===(t=r.nodeAddresses)||void 0===t?void 0:t.ethereum},l))},{label:"Connected to Node API",isOk:i.isOk,isLoading:i.isLoading,component:Object(h.jsx)(et,Object(b.a)({},i))},{label:"Connected to Peers",isOk:o.isOk,isLoading:o.isLoading,component:Object(h.jsx)(Bt,Object(b.a)({},o))}];Object(a.useEffect)((function(){if(!(x>=0&&x<p.length)&&p.every((function(e){return!e.isLoading})))for(var e=0;e<p.length;++e)if(!p[e].isOk)return void O(e)}),[p]);var g=function(){O((function(e){return e+1}))},m=function(){O((function(e){return e-1}))};return Object(h.jsxs)(Re.a,{className:d.root,children:[Object(h.jsxs)(Fe.a,{variant:"h5",gutterBottom:!0,children:["Node Setup",Object(h.jsx)("span",{style:{marginLeft:"25px"},children:Object(h.jsxs)(Ue.a,{variant:"outlined",size:"small",onClick:function(){return window.location.reload()},children:[Object(h.jsx)(Ye.a,{}),Object(h.jsx)("span",{style:{marginLeft:"7px"},children:"Refresh Checks"})]})})]}),Object(h.jsx)(We.a,{nonLinear:!0,activeStep:x,orientation:"vertical",children:p.map((function(e,t){var n=e.label,a=e.isOk,r=e.component,c=e.isLoading;return Object(h.jsxs)(Ve.a,{children:[Object(h.jsx)(ze.a,{disabled:c,onClick:function(){return O(t===x?p.length:t)},StepIconComponent:function(){return c?Object(h.jsx)(Ge.a,{style:{height:"25px",cursor:"pointer"}}):a?Object(h.jsx)(Xe.a,{style:{color:"#32c48d",height:"25px",cursor:"pointer"}}):Object(h.jsx)(Qe.a,{style:{color:"#c9201f",height:"25px",cursor:"pointer"}})},children:Object(h.jsx)(He.a,{disabled:c,onClick:function(){return O(t===x?p.length:t)},style:{justifyContent:"space-between"},children:Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)("div",{style:{marginTop:"5px"},children:n}),Object(h.jsx)("div",{style:{marginLeft:"12px"},children:t===x?Object(h.jsx)(Me.a,{}):Object(h.jsx)(Ze.a,{})})]})})}),Object(h.jsxs)(Ke.a,{children:[Object(h.jsx)(Fe.a,{component:"div",children:r}),Object(h.jsx)("div",{className:d.actionsContainer,children:Object(h.jsxs)("div",{children:[Object(h.jsx)(Ue.a,{disabled:0===x,onClick:m,className:d.button,children:"Back"}),Object(h.jsx)(Ue.a,{variant:"contained",color:"primary",onClick:g,className:d.button,children:t<p.length-1?"Next":"Finish"})]})})]})]},n)}))})]})}var Nt=n(417),Lt=n(418),It=n(419),Et=n(420),Pt=Object(y.a)((function(){return Object(w.a)({root:{display:"flex",flex:"1 1 auto",flexDirection:"column"},status:{color:"#2145a0",backgroundColor:"#e1effe"}})}));var qt=function(e){var t=e.userBeeVersion,n=e.nodeAddresses,r=e.nodeTopology,c=e.isOk,i=e.isLatestBeeVersion,l=e.latestUrl,d=Pt(),j=Object(a.useState)(!1),u=Object(s.a)(j,2),b=u[0],x=u[1];return Object(h.jsx)(Nt.a,{children:Object(h.jsxs)(Lt.a,{className:d.root,children:[Object(h.jsxs)(Fe.a,{component:"h5",variant:"h5",style:{display:"flex",justifyContent:"space-between"},children:[c&&Object(h.jsxs)("div",{children:[Object(h.jsx)(Xe.a,{style:{color:"#32c48d",marginRight:"7px"}}),Object(h.jsx)("span",{children:"Your ant node is running as expected"})]}),!c&&Object(h.jsxs)("div",{children:[Object(h.jsx)(Qe.a,{style:{color:"#c9201f",marginRight:"7px"}}),Object(h.jsx)("span",{children:"Could not connect to ant node"})]})]}),c&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(h.jsxs)("span",{style:{marginRight:"20px"},children:["Discovered Nodes: ",null===r||void 0===r?void 0:r.population]}),Object(h.jsxs)("span",{style:{marginRight:"20px"},children:[Object(h.jsx)("span",{children:"Connected Peers: "}),Object(h.jsx)(o.b,{to:"/peers/",children:null===r||void 0===r?void 0:r.connected})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)(Fe.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(h.jsx)("span",{children:"AGENT: "}),Object(h.jsx)("a",{href:"https://github.com/ethsana/sana",rel:"noreferrer",target:"_blank",children:"Ant"})," ",Object(h.jsx)("span",{children:t||"-"}),i?Object(h.jsx)(Se.a,{style:{marginLeft:"7px",color:"#2145a0"},size:"small",label:"latest",className:d.status}):Object(h.jsx)(Ue.a,{size:"small",variant:"outlined",href:l,children:"update"})]}),Object(h.jsxs)(Fe.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(h.jsx)("span",{children:"PUBLIC KEY: "}),Object(h.jsx)("span",{children:(null===n||void 0===n?void 0:n.publicKey)?n.publicKey:"-"})]}),Object(h.jsxs)(Fe.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(h.jsx)("span",{children:"PSS PUBLIC KEY: "}),Object(h.jsx)("span",{children:(null===n||void 0===n?void 0:n.pssPublicKey)?n.pssPublicKey:"-"})]}),Object(h.jsxs)(Fe.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(h.jsx)("span",{children:"OVERLAY ADDRESS (PEER ID): "}),Object(h.jsx)("span",{children:(null===n||void 0===n?void 0:n.overlay)?n.overlay:"-"})]}),Object(h.jsxs)(Fe.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(h.jsx)(Fe.a,{component:"div",onClick:function(){return x(!b)},children:Object(h.jsxs)(Ue.a,{color:"primary",style:{padding:0,marginTop:"6px"},children:[b?Object(h.jsx)(It.a,{style:{fontSize:"12px"}}):Object(h.jsx)(Et.a,{style:{fontSize:"12px"}}),Object(h.jsx)("span",{children:"Underlay Addresses"})]})}),b&&Object(h.jsx)("div",{children:null===n||void 0===n?void 0:n.underlay.map((function(e){return Object(h.jsx)("li",{children:e},e)}))})]})]})]})]})})},Dt=n(421),Tt=Object(y.a)((function(){return Object(w.a)({root:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",paddingLeft:8,paddingRight:8},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"}})}));var Rt=function(e){var t,n,a=Tt();return Object(h.jsxs)(Nt.a,{className:a.root,children:[e.isLoadingNodeAddresses?Object(h.jsxs)("div",{style:{padding:"16px"},children:[Object(h.jsx)(Dt.a,{width:300,height:30,animation:"wave"}),Object(h.jsx)(Dt.a,{width:300,height:50,animation:"wave"})]}):Object(h.jsx)("div",{className:a.details,children:Object(h.jsxs)(Lt.a,{className:a.content,children:[Object(h.jsx)(Fe.a,{variant:"subtitle1",gutterBottom:!0,children:"Ethereum Address"}),Object(h.jsx)(bt,{address:null===(t=e.nodeAddresses)||void 0===t?void 0:t.ethereum,network:"goerli"})]})}),e.isLoadingChequebookAddress?Object(h.jsxs)("div",{style:{padding:"16px"},children:[Object(h.jsx)(Dt.a,{width:300,height:30,animation:"wave"}),Object(h.jsx)(Dt.a,{width:300,height:50,animation:"wave"})]}):Object(h.jsx)("div",{className:a.details,children:Object(h.jsxs)(Lt.a,{className:a.content,children:[Object(h.jsx)(Fe.a,{variant:"subtitle1",gutterBottom:!0,children:"Chequebook Contract Address"}),Object(h.jsx)(bt,{address:null===(n=e.chequebookAddress)||void 0===n?void 0:n.chequebookAddress,network:"goerli"})]})})]})},Ft=n(422);n(122);var Ut=!1;function Wt(e){var t=e.disabled,n=r.a.useState(!1),c=Object(s.a)(n,2),i=c[0],o=c[1],l=r.a.useState(""),d=Object(s.a)(l,2),u=d[0],b=d[1],x=Object(j.b)().enqueueSnackbar,O=Object(a.useCallback)((function(){Ut||t||i||(Ut=!0,V.a.post("".concat(sessionStorage.getItem("debug_api_host")||"http://localhost:1635","/mine/withdraw")).then((function(e){var t=e.data;Boolean(null===t||void 0===t?void 0:t.code)?x("Cashout: ".concat(null===t||void 0===t?void 0:t.message),{variant:"error"}):(b(t.hash),o(!0))})).catch((function(e){e.response?x("Withdraw: ".concat(e.response.data.message),{variant:"error"}):x("Withdraw: ".concat(e.toString()),{variant:"error"})})).finally((function(){Ut=!1})))}),[b,o,x,Ut,t]);return Object(h.jsxs)("div",{children:[Object(h.jsx)(Ue.a,{variant:"contained",disabled:t,color:"primary",style:{marginRight:"14px"},onClick:O,children:"Cashout"}),Object(h.jsxs)(rt.a,{open:i,"aria-labelledby":"draggable-dialog-title",fullWidth:!0,children:[Object(h.jsx)(ct.a,{id:"draggable-dialog-title",children:"Success"}),Object(h.jsxs)(ft.a,{children:[Object(h.jsx)(vt.a,{style:{marginTop:"20px",overflowWrap:"break-word"},children:"Copy the transaction hash or click on the link below for details"}),Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["Hash:"," ",Object(h.jsx)("a",{style:{margin:"0 7px",fontSize:"14px"},href:"https://goerli.".concat("etherscan.io","/tx/").concat(u),target:"_blank",rel:"noreferrer",children:u.slice(0,16)+"******"+u.slice(u.length-16)}),Object(h.jsx)(dt,{value:u})]})]}),Object(h.jsx)(mt.a,{children:Object(h.jsx)(Ue.a,{autoFocus:!0,onClick:function(){o(!1)},children:"OK"})})]})]})}var Vt=!1;function zt(e){var t=e.disabled,n=r.a.useState(!1),c=Object(s.a)(n,2),i=c[0],o=c[1],l=r.a.useState(""),d=Object(s.a)(l,2),u=d[0],b=d[1],x=Object(j.b)().enqueueSnackbar,O=Object(a.useCallback)((function(){Vt||t||i||(Vt=!0,V.a.post("".concat(sessionStorage.getItem("debug_api_host"),"||").concat("http://localhost:1635","/mine/cashdeposit")).then((function(e){var t=e.data;b(t.hash),o(!0)})).catch((function(e){e.response?x("Withdraw: ".concat(e.response.data.message),{variant:"error"}):x("Withdraw: ".concat(e.toString()),{variant:"error"})})).finally((function(){Vt=!1})))}),[b,o,x,Vt,t]);return Object(h.jsxs)("div",{children:[Object(h.jsx)(Ue.a,{variant:"contained",disabled:t,color:"primary",style:{marginRight:"14px"},onClick:O,children:"Withdraw desposit"}),Object(h.jsxs)(rt.a,{open:i,"aria-labelledby":"draggable-dialog-title",fullWidth:!0,children:[Object(h.jsx)(ct.a,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Withdraw Desposit Successfully"}),Object(h.jsx)(ft.a,{children:Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["Hash:"," ",Object(h.jsx)("a",{style:{margin:"0 7px",fontSize:"14px"},href:"https://goerli.".concat("etherscan.io","/tx/").concat(u),target:"_blank",rel:"noreferrer",children:u.slice(0,12)+"***"+u.slice(u.length-12)}),Object(h.jsx)(dt,{value:u})]})}),Object(h.jsx)(mt.a,{children:Object(h.jsx)(Ue.a,{autoFocus:!0,onClick:function(){o(!1)},children:"OK"})})]})]})}var Ht=Object(y.a)((function(e){return Object(w.a)({root:{flexGrow:1},card:{padding:e.spacing(2)},span:{margin:"10px auto",color:e.palette.text.primary,fontWeight:500,fontSize:15},label:{display:"block",fontSize:16,color:e.palette.primary.main},val:{display:"block",paddingTop:"2px"}})})),Kt=function(e){var t=e.isWork;return Object(h.jsx)("div",{style:{backgroundColor:t?"#32c48d":"red",marginRight:"7px",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}})};var Yt=function(e){var t=e.error,n=e.isLockup,a=e.isWork,r=e.pending,c=e.reward,i=e.totalEarns,s=Ht();return Object(h.jsx)("div",{className:s.root,children:Object(h.jsxs)(Ft.a,{container:!0,spacing:4,children:[Object(h.jsx)(Ft.a,{item:!0,xs:3,children:Object(h.jsxs)(Nt.a,{className:s.card,children:[Object(h.jsxs)("div",{className:s.span,children:[Object(h.jsx)("span",{className:s.label,children:"Amount of SANA deposits"}),Object(h.jsx)("span",{className:s.val,children:"50,000"})]}),Object(h.jsxs)("div",{className:s.span,children:[Object(h.jsx)("span",{className:s.label,children:"Node Status"}),Object(h.jsxs)("span",{className:s.val,children:[Object(h.jsx)(Kt,{isWork:a}),t?" The node is wrong, refresh to check":a?"working":"unwork",t&&Object(h.jsxs)(Ue.a,{variant:"outlined",size:"small",style:{marginTop:"7px"},onClick:function(){return window.location.reload()},children:[Object(h.jsx)(Ye.a,{}),Object(h.jsx)("span",{children:"Refresh Checks"})]})]})]})]})}),Object(h.jsx)(Ft.a,{item:!0,xs:3,children:Object(h.jsxs)(Nt.a,{className:s.card,children:[Object(h.jsxs)("div",{className:s.span,children:[Object(h.jsx)("span",{className:s.label,children:"Received rewards"}),Object(h.jsx)("span",{className:s.val,children:c.toFixedDecimal()})]}),Object(h.jsxs)("div",{className:s.span,children:[Object(h.jsx)("span",{className:s.label,children:"Unclaimed awards"}),Object(h.jsx)("span",{className:s.val,children:r.toFixedDecimal()})]})]})}),Object(h.jsx)(Ft.a,{item:!0,xs:3,children:Object(h.jsxs)(Nt.a,{className:s.card,children:[Object(h.jsxs)("div",{className:s.span,children:[Object(h.jsx)("span",{className:s.label,children:"Frozen SANA"}),Object(h.jsx)("span",{className:s.val,children:n?"50,000":"0"})]}),Object(h.jsxs)("div",{className:s.span,children:[Object(h.jsx)("span",{className:s.label,children:"Unfrozen SANA"}),Object(h.jsxs)("span",{className:s.val,children:[" ",n?"0":"50,000"]})]})]})}),Object(h.jsx)(Ft.a,{item:!0,xs:3,children:Object(h.jsxs)(Nt.a,{className:s.card,children:[Object(h.jsxs)("div",{className:s.span,children:[Object(h.jsx)("span",{className:s.label,children:"Total revenue"}),Object(h.jsx)("span",{className:"val",children:i.toFixedDecimal()})]}),Object(h.jsxs)("div",{className:s.span,style:{display:"flex",marginTop:"20px"},children:[Object(h.jsx)(Wt,{disabled:Boolean(r.toBigNumber.isZero())}),Object(h.jsx)(zt,{disabled:n||!a})]})]})})]})})},Gt=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",display:"grid",rowGap:e.spacing(3)}})}));function Xt(){var e=Gt(),t=ne(),n=function(){var e=Z(),t=e.isLoadingNodeAddresses,n=e.nodeAddresses;return{isLoading:t,isOk:Boolean(null===n||void 0===n?void 0:n.ethereum),nodeAddresses:n}}(),a=function(){var e=M(),t=e.isLoadingNodeHealth,n=e.nodeHealth;return{isLoading:t,isOk:Boolean("ok"===(null===n||void 0===n?void 0:n.status))}}(),r=function(){var e=Q();return{isLoading:e.isLoadingHealth,isOk:e.health}}(),c=function(){var e=J(),t=e.topology;return{isLoading:e.isLoading,isOk:Boolean((null===t||void 0===t?void 0:t.connected)&&(null===t||void 0===t?void 0:t.connected)>0),topology:t}}(),i=function(){var e=_(),t=e.chequebookAddress,n=e.isLoadingChequebookAddress,a=$(),r=a.chequebookBalance,c=a.isLoadingChequebookBalance;return{isLoading:n||c,isOk:Boolean(null===t||void 0===t?void 0:t.chequebookAddress)&&null!==r&&(null===r||void 0===r?void 0:r.totalBalance.toBigNumber.isGreaterThan(0)),chequebookBalance:r,chequebookAddress:t}}(),s=ae(),o=[t,n,a,r,c,i];return o.every((function(e){return!e.isLoading}))?Object(h.jsxs)("div",{className:e.root,children:[Object(h.jsx)(qt,{userBeeVersion:t.userVersion,isLatestBeeVersion:t.isLatestBeeVersion,isOk:o.every((function(e){return e.isOk})),nodeTopology:c.topology,latestUrl:t.latestUrl,nodeAddresses:n.nodeAddresses}),Object(h.jsx)(Yt,{error:s.error,isLockup:s.isLockup,isWork:s.isWork,reward:s.reward,pending:s.pending,totalEarns:s.totalEarns}),n.nodeAddresses&&i.chequebookAddress&&Object(h.jsx)(Rt,{nodeAddresses:n.nodeAddresses,isLoadingNodeAddresses:n.isLoading,chequebookAddress:i.chequebookAddress,isLoadingChequebookAddress:i.isLoading}),Object(h.jsx)(Ct,{nodeVersion:t,ethereumConnection:n,debugApiConnection:a,apiConnection:r,topology:c,chequebook:i})]}):Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)(Te.a,{})})}var Qt=Object(y.a)({root:{flexGrow:1},title:{textAlign:"center",fontSize:26}});function Mt(){var e=Qt();return Object(h.jsx)(Nt.a,{className:e.root,children:Object(h.jsxs)(Lt.a,{children:[Object(h.jsx)(Fe.a,{className:e.title,gutterBottom:!0,children:"Looks like your node is not connected"}),Object(h.jsx)("div",{style:{marginBottom:"20px",textAlign:"center"},children:Object(h.jsxs)("strong",{children:[Object(h.jsx)(o.b,{to:"/peers",children:"Click to run status checks"})," on your nodes connection or check out the"," ",Object(h.jsx)("a",{href:"https://docs.ethsana.org/",target:"_blank",rel:"noreferrer",children:"SANA Ant Docs"})]})}),Object(h.jsx)("div",{style:{marginBottom:"20px",textAlign:"center"},children:Object(h.jsxs)("p",{style:{marginTop:"50px"},children:["Still not working? Drop us a message on the Ethereum SANA"," ",Object(h.jsx)("a",{href:"https://discord.gg/c72mpR7Erf",target:"_blank",rel:"noreferrer",children:"Discord"})]})})]})})}var Zt=n(219),Jt=n(423),_t=Object(y.a)((function(e){return Object(w.a)({root:{padding:e.spacing(.25),display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})}));function $t(){var e=_t(),t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),o=Object(s.a)(i,2),l=o[0],d=o[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(Re.a,{className:e.root,children:[Object(h.jsx)(Zt.a,{className:e.input,placeholder:"Enter sana reference e.g. 7e078b0676b034a35d41e766e804551ae5ddd80182329c6a7fff3035dab9cd52",inputProps:{"aria-label":"retrieve file from sana"},value:r,onChange:function(e){c(e.target.value),L.Utils.Hex.isHexString(e.target.value,64)||L.Utils.Hex.isHexString(e.target.value,128)?d(null):d(new Error("Incorrect format of sana hash"))},onKeyUp:function(e){var t;t=e.key.toLocaleLowerCase(),l||"enter"!==t||window.open("".concat(I,"/bzz/").concat(r))}}),Object(h.jsx)(S.a,{href:"".concat(I,"/bzz/").concat(r),target:"_blank",disabled:null!==l||!r,className:e.iconButton,"aria-label":"download",children:Object(h.jsx)(Jt.a,{})})]}),l&&Object(h.jsx)(yt.a,{error:!0,children:l.message})]})}var en=n(439),tn=n(206),nn=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2)}})}));function an(e){var t=nn(),n=e.file.size>=1e8;return Object(h.jsx)(B.a,{in:n,children:Object(h.jsx)("div",{className:t.root,children:Object(h.jsxs)(k.a,{severity:"warning",children:[Object(h.jsx)(A.a,{children:"Warning"}),"The file you are trying to upload is above the recommended size. The chunks may not be synchronised properly over the network."]})})})}function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return"".concat(e.substring(0,t),"...").concat(e.substring(e.length-n,e.length))}function cn(e){var t=e.peerId,n=e.characterLength;return Object(h.jsx)(Fe.a,{variant:"button",style:{fontFamily:"monospace, monospace"},children:rn(t,n,n)})}var sn={stamps:null,error:null,isLoading:!1,lastUpdate:null,start:function(){},stop:function(){},refresh:function(){return Promise.reject()}},on=Object(a.createContext)(sn);on.Consumer;function ln(e){var t=e.depth,n=e.bucketDepth,a=e.utilization/Math.pow(2,t-n),r="".concat(Math.ceil(100*a),"%");return Object(b.a)(Object(b.a)({},e),{},{usage:a,usageText:r})}function dn(e){var t=e.children,n=Object(a.useState)(sn.stamps),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(sn.error),l=Object(s.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(sn.isLoading),b=Object(s.a)(u,2),x=b[0],O=b[1],p=Object(a.useState)(sn.lastUpdate),g=Object(s.a)(p,2),m=g[0],f=g[1],v=Object(a.useState)(null),y=Object(s.a)(v,2),w=y[0],k=y[1],A=function(){var e=Object(pt.a)(Ot.a.mark((function e(){var t;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,O(!0),e.next=6,F.getPostageStamps();case 6:t=e.sent,i(t.map(ln)),f(Date.now()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),j(e.t0);case 14:return e.prev=14,O(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(A(),w){var e=setInterval(A,w);return function(){return clearInterval(e)}}}),[w]),Object(h.jsx)(on.Provider,{value:{stamps:c,error:d,isLoading:x,lastUpdate:m,start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;return k(e)},stop:function(){return k(null)},refresh:A},children:t})}var jn=n(48),un=n(129),bn={depth:"",amount:"",label:""},hn=Object(y.a)((function(e){return Object(w.a)({wrapper:{margin:e.spacing(1),position:"relative"},field:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginBottom:-12}})}));function xn(e){var t=e.label,n=hn(),c=r.a.useState(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useContext)(on).refresh,u=function(){return l(!0)},b=function(){return l(!1)},x=Object(j.b)().enqueueSnackbar;return Object(h.jsx)(jn.c,{initialValues:bn,onSubmit:function(){var e=Object(pt.a)(Ot.a.mark((function e(t,n){var a,r,c;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.depth&&t.amount){e.next=3;break}return e.abrupt("return");case 3:return a=BigInt(t.amount),r=Number.parseInt(t.depth),c=t.label?{label:t.label}:void 0,e.next=8,F.buyPostageStamp(a,r,c);case 8:return n.resetForm(),e.next=11,d();case 11:b(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),x("Error: ".concat(e.t0.message),{variant:"error"}),n.setSubmitting(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),validate:function(e){var t={};if(e.depth){var n=new H.a(e.depth);n.isInteger()?n.isLessThan(16)?t.depth="Minimal depth is 16":n.isGreaterThan(255)&&(t.depth="Depth has to be at most 255"):t.depth="Depth must be an integer"}else t.depth="Required field";if(e.amount){var a=new H.a(e.amount);a.isInteger()?a.isLessThanOrEqualTo(0)&&(t.amount="Amount must be greater than 0"):t.amount="Amount must be an integer"}else t.amount="Required field";return e.label&&!/^[0-9a-z]*$/i.test(e.label)&&(t.label="Label must be an alphanumeric string"),t},children:function(e){var a=e.submitForm,r=e.isValid,c=e.isSubmitting,i=e.values;return Object(h.jsxs)(jn.b,{children:[Object(h.jsxs)(Ue.a,{variant:"outlined",color:"primary",onClick:u,children:[t||"Buy Postage Stamp",c&&Object(h.jsx)(Te.a,{size:24,className:n.buttonProgress})]}),Object(h.jsxs)(rt.a,{open:o,onClose:b,"aria-labelledby":"form-dialog-title",children:[Object(h.jsx)(ct.a,{id:"form-dialog-title",children:"Purchase new postage stamp"}),Object(h.jsxs)(ft.a,{children:[Object(h.jsxs)(vt.a,{children:["Provide the depth, amount and optionally the label of the postage stamp. Please refer to the"," ",Object(h.jsx)("a",{href:"https://docs.ethsana.org/",target:"blank",children:"official docs"})," ","to understand these values."]}),Object(h.jsx)(jn.a,{component:un.a,required:!0,name:"depth",autoFocus:!0,label:"Depth",fullWidth:!0,className:n.field}),Object(h.jsx)(jn.a,{component:un.a,required:!0,name:"amount",label:"Amount",fullWidth:!0,className:n.field}),Object(h.jsx)(jn.a,{component:un.a,name:"label",label:"Label",fullWidth:!0,className:n.field})]}),Object(h.jsxs)(mt.a,{children:[Object(h.jsx)(Ue.a,{onClick:b,color:"primary",children:"Cancel"}),Object(h.jsx)("div",{className:n.wrapper,children:Object(h.jsxs)(Ue.a,{color:"primary",disabled:c||!r||!i.amount||!i.depth,type:"submit",variant:"contained",onClick:a,children:["Create",c&&Object(h.jsx)(Te.a,{size:24,className:n.buttonProgress})]})})]})]})]})}})}var On=n(208),pn=n(424);function gn(e){var t=e.stamps,n=e.selectedStamp,a=e.setSelected,c=r.a.useState(null),i=Object(s.a)(c,2),o=i[0],l=i[1];if(!t)return null;var d=function(){return l(null)};return Object(h.jsxs)("div",{children:[Object(h.jsx)(Ue.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:"Change"}),Object(h.jsx)(On.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:d,children:t.map((function(e){return Object(h.jsxs)(pn.a,{onClick:function(){a(e),d()},selected:e.batchID===(null===n||void 0===n?void 0:n.batchID),children:[Object(h.jsx)(de.a,{children:e.usageText}),Object(h.jsx)(cn,{peerId:e.batchID})]},e.batchID)}))})]})}function mn(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(""),u=Object(s.a)(d,2),b=u[0],x=u[1],O=Object(a.useState)(!1),p=Object(s.a)(O,2),g=p[0],m=p[1],f=Object(a.useState)(null),v=Object(s.a)(f,2),y=v[0],w=v[1],k=Object(a.useContext)(on),A=k.isLoading,B=k.error,S=k.stamps,C=Object(j.b)().enqueueSnackbar;Object(a.useEffect)((function(){if(!y&&S&&S.length>0){var e=S.reduce((function(e,t){return t.usage<e.usage?t:e}),S[0]);w(e)}}),[A,B,S,y]);return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{children:[Object(h.jsx)(tn.a,{onChange:function(e){e&&l(e[0])},filesLimit:1,maxFileSize:1e9},"dropzone-"+n),Object(h.jsxs)("div",{style:{marginTop:"15px"},children:[y&&Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsxs)("small",{children:["with Postage Stamp"," ",Object(h.jsx)(Se.a,{avatar:Object(h.jsx)(en.a,{children:y.usageText}),label:Object(h.jsx)(cn,{peerId:y.batchID,characterLength:6}),deleteIcon:Object(h.jsx)(dt,{value:y.batchID}),onDelete:function(){},variant:"outlined"})]}),Object(h.jsx)(gn,{stamps:S,selectedStamp:y,setSelected:w})]}),!y&&Object(h.jsx)(xn,{}),Object(h.jsx)(Ue.a,{disabled:!o&&g&&!y,onClick:function(){null!==o&&null!==y&&(m(!0),R.uploadFile(y.batchID,o).then((function(e){window.setTimeout((function(){l(null),x(e),r(n+1)}),0)})).catch((function(e){return C("Error uploading: ".concat(e.message),{variant:"error"})})).finally((function(){m(!1)})))},children:"Upload"}),o&&Object(h.jsx)(an,{file:o}),g&&Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)(Te.a,{})}),b&&Object(h.jsxs)("div",{style:{marginBottom:"15px",display:"flex"},children:[Object(h.jsx)("span",{children:b}),Object(h.jsx)(dt,{value:b})]})]})]})})}var fn=n(210),vn=n(435),yn=n(425),wn=n(434);function kn(e){var t=e.children,n=e.value,a=e.index,r=Object(fn.a)(e,["children","value","index"]);return Object(h.jsx)("div",Object(b.a)(Object(b.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(h.jsx)(wn.a,{p:3,children:Object(h.jsx)(Fe.a,{children:t})})}))}var An=Object(y.a)((function(){return{root:{flexGrow:1}}}));function Bn(e){var t=e.values,n=An(),a=r.a.useState(0),c=Object(s.a)(a,2),i=c[0],o=c[1];return Object(h.jsxs)("div",{className:n.root,children:[Object(h.jsx)(vn.a,{value:i,onChange:function(e,t){o(t)},"aria-label":"simple tabs example",children:t.map((function(e,t){var n=e.label;return Object(h.jsx)(yn.a,{label:n},t)}))}),t.map((function(e,t){var n=e.component;return Object(h.jsx)(kn,{value:i,index:t,children:n},t)}))]})}Object(y.a)({root:{flexGrow:1}});function Sn(){var e=Q(),t=e.health,n=e.isLoadingHealth,a=M(),r=a.nodeHealth,c=a.isLoadingNodeHealth;return n||c?Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)(Te.a,{})}):t&&"ok"===(null===r||void 0===r?void 0:r.status)?Object(h.jsx)(De.a,{children:Object(h.jsx)(Bn,{values:[{label:"download",component:Object(h.jsx)($t,{})},{label:"upload",component:Object(h.jsx)(mn,{})}]})}):Object(h.jsx)(Mt,{})}var Cn=n(130),Nn=n(5),Ln=n(426),In=n(427),En=n(428),Pn=n(429),qn=n(430),Dn=n(431),Tn=n(440),Rn=function(){return Object(h.jsx)("img",{src:"data:image/png;base64,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",width:"24",style:{border:"none",outline:0}})},Fn=Object(y.a)((function(e){return Object(w.a)({table:{minWidth:650},container:{maxHeight:"calc(100vh - 250px)"},headerCell:{background:"dark"===e.palette.type?"#424242":"#fff"},tableCell:{borderBottom:0}})})),Un=Object(Nn.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},border:0}}}))(Ln.a);var Wn=function(e){var t=Fn(),n=Object(a.useState)([{peerId:"",rtt:"",loading:!1}]),r=Object(s.a)(n,2),c=r[0],i=r[1];return e.isLoading?Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)(Te.a,{})}):e.error||null===e.peers?Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)("p",{children:"Failed to load peers"})}):Object(h.jsx)("div",{children:Object(h.jsx)(In.a,{className:t.container,component:Re.a,children:Object(h.jsxs)(En.a,{className:t.table,"aria-label":"peers table",stickyHeader:!0,children:[Object(h.jsx)(Pn.a,{children:Object(h.jsxs)(Ln.a,{children:[Object(h.jsx)(qn.a,{className:t.headerCell,children:"Index"}),Object(h.jsx)(qn.a,{className:t.headerCell,children:"Peer Id"}),Object(h.jsx)(qn.a,{className:t.headerCell,align:"right",children:"Actions"})]})}),Object(h.jsx)(Dn.a,{children:e.peers.map((function(e,n){return Object(h.jsxs)(Un,{children:[Object(h.jsx)(qn.a,{component:"th",scope:"row",className:t.tableCell,children:n+1}),Object(h.jsx)(qn.a,{className:t.tableCell,children:e.address}),Object(h.jsx)(qn.a,{align:"right",className:t.tableCell,children:Object(h.jsx)(Tn.a,{title:"Ping node",children:Object(h.jsx)(Ue.a,{color:"primary",onClick:function(){return t=e.address,i([].concat(Object(Cn.a)(c),[{peerId:t,rtt:"",loading:!0}])),void U.connectivity.ping(t).then((function(e){i([].concat(Object(Cn.a)(c),[{peerId:t,rtt:e.rtt,loading:!1}]))})).catch((function(){i([].concat(Object(Cn.a)(c),[{peerId:t,rtt:"error",loading:!1}]))}));var t},children:c.find((function(t){return t.peerId===e.address}))?c.filter((function(t){return t.peerId===e.address}))[0].loading?Object(h.jsx)(Te.a,{size:20}):c.filter((function(t){return t.peerId===e.address}))[0].rtt:Object(h.jsx)(Rn,{})})})})]},e.address)}))})]})})})},Vn=Object(y.a)({root:{minWidth:275},title:{fontSize:16},pos:{marginBottom:12}});function zn(e){var t=e.loading,n=e.label,a=e.statistic,r=Vn();return Object(h.jsx)(Nt.a,{className:r.root,children:Object(h.jsxs)(Lt.a,{children:[t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Dt.a,{width:180,height:25,animation:"wave"}),Object(h.jsx)(Dt.a,{width:180,height:35,animation:"wave"})]}),!t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Fe.a,{className:r.title,color:"textSecondary",gutterBottom:!0,children:n}),Object(h.jsx)(Fe.a,{variant:"h5",component:"h2",children:a})]})]})})}var Hn=function(e){var t=e.isLoading,n=e.topology;return Object(h.jsx)(Ft.a,{style:{marginBottom:"20px",flexGrow:1},children:Object(h.jsxs)(Ft.a,{container:!0,spacing:3,children:[Object(h.jsx)(Ft.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:Object(h.jsx)(zn,{label:"Connected Peers",statistic:null===n||void 0===n?void 0:n.connected.toString(),loading:t})},1),Object(h.jsx)(Ft.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:Object(h.jsx)(zn,{label:"Population",statistic:null===n||void 0===n?void 0:n.population.toString(),loading:t})},2),Object(h.jsx)(Ft.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:Object(h.jsx)(zn,{label:"Depth",statistic:null===n||void 0===n?void 0:n.depth.toString(),loading:t})},3)]})})};function Kn(){var e=J(),t=M(),n=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),U.connectivity.listPeers().then((function(e){r(e)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{peers:n,isLoading:o,error:u}}();return t.isLoadingNodeHealth?Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)(Te.a,{})}):t.error?Object(h.jsx)(Mt,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Hn,Object(b.a)({},e)),Object(h.jsx)(Wn,Object(b.a)({},n))]})}function Yn(){return Object(h.jsx)(wt,{successMessage:"Successful withdrawl.",errorMessage:"Error with withdrawing.",dialogMessage:"Specify the amount of SANA you would like to withdraw from your node.",label:"Withdraw",min:new z.BigNumber(0),action:U.chequebook.withdraw})}var Gn=Object(y.a)((function(e){return Object(w.a)({root:{display:"flex"},buttons:{display:"flex",columnGap:e.spacing(1)},gridContainer:{display:"flex",width:"100%",marginLeft:e.spacing(1),marginRight:e.spacing(1),columnGap:e.spacing(1),rowGap:e.spacing(1),flex:"0 1 auto",flexWrap:"wrap",justifyContent:"space-between"},chequebookActions:{justifyContent:"space-between",display:"flex",marginBottom:e.spacing(1)}})}));var Xn=function(e){var t=e.totalreceived,n=e.totalsent,a=e.chequebookBalance,r=e.isLoading,c=Gn();return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:c.chequebookActions,children:[Object(h.jsx)(Fe.a,{component:"h2",variant:"h6",children:"Chequebook"}),Object(h.jsxs)("div",{className:c.buttons,children:[Object(h.jsx)(Yn,{}),Object(h.jsx)(kt,{})]})]}),Object(h.jsxs)(Nt.a,{className:c.root,children:[!r&&Object(h.jsxs)(Lt.a,{className:c.gridContainer,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(Fe.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Total Balance"}),Object(h.jsxs)(Fe.a,{variant:"h5",children:[null===a||void 0===a?void 0:a.totalBalance.toFixedDecimal()," SANA"]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Fe.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Available Uncommitted Balance"}),Object(h.jsxs)(Fe.a,{variant:"h5",children:[null===a||void 0===a?void 0:a.availableBalance.toFixedDecimal()," SANA"]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Fe.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Total Sent / Received"}),Object(h.jsxs)(Fe.a,{variant:"h5",children:[n.toFixedDecimal()," / ",t.toFixedDecimal()," SANA"]})]})]}),r&&Object(h.jsxs)("div",{className:c.gridContainer,children:[Object(h.jsx)(Dt.a,{width:180,height:110,animation:"wave"}),Object(h.jsx)(Dt.a,{width:180,height:110,animation:"wave"}),Object(h.jsx)(Dt.a,{width:180,height:110,animation:"wave"})]})]})]})};function Qn(e){var t=e.peerId,n=e.uncashedAmount,r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(!1),d=Object(s.a)(l,2),u=d[0],b=d[1],x=Object(j.b)().enqueueSnackbar,O=function(){o(!1)};return Object(h.jsxs)("div",{children:[Object(h.jsx)(Ue.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},style:{marginLeft:"7px"},children:"Cashout"}),Object(h.jsxs)(rt.a,{open:i,onClose:O,"aria-labelledby":"form-dialog-title",children:[Object(h.jsx)(ct.a,{id:"form-dialog-title",children:"Cashout Cheque"}),Object(h.jsx)(ft.a,{children:Object(h.jsxs)(vt.a,{style:{marginTop:"20px",overflowWrap:"break-word"},children:[u&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:["Cashing out ",Object(h.jsx)("strong",{children:n})," from Peer ",Object(h.jsx)("strong",{children:t}),". Please wait..."]}),Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)(Te.a,{})})]}),!u&&Object(h.jsxs)("span",{children:["Are you sure you want to cashout ",Object(h.jsxs)("strong",{children:[n," SANA"]})," from Peer"," ",Object(h.jsx)("strong",{children:t}),"?"]})]})}),Object(h.jsxs)(mt.a,{children:[Object(h.jsx)(Ue.a,{onClick:O,color:"primary",children:"Cancel"}),Object(h.jsx)(Ue.a,{onClick:function(){t?(b(!0),U.chequebook.peerCashout(t).then((function(e){o(!1),x(Object(h.jsxs)("span",{children:["Successfully cashed out cheque. Transaction",Object(h.jsx)(bt,{hideBlockie:!0,transaction:!0,address:e,network:"goerli"})]}),{variant:"success"})})).catch((function(e){x(Object(h.jsxs)("span",{children:["Error: ",e.message]}),{variant:"error"})})).finally((function(){b(!1)}))):x(Object(h.jsx)("span",{children:"Peer Id invalid"}),{variant:"error"})},color:"primary",disabled:u,children:"Yes Cashout"})]})]})]})}var Mn=Object(y.a)((function(e){return Object(w.a)({table:{minWidth:650},values:{textAlign:"right",fontFamily:"monospace, monospace"},container:{maxHeight:"calc(100vh - 310px)"},headerCell:{background:"dark"===e.palette.type?"#424242":"#fff"}})}));var Zn=function(e){var t=e.accounting,n=e.isLoadingUncashed;if(null===t)return null;var a=Mn();return Object(h.jsx)(In.a,{component:Re.a,className:a.container,children:Object(h.jsxs)(En.a,{className:a.table,stickyHeader:!0,size:"small","aria-label":"Balances Table",children:[Object(h.jsx)(Pn.a,{children:Object(h.jsxs)(Ln.a,{children:[Object(h.jsx)(qn.a,{className:a.headerCell,children:"Peer"}),Object(h.jsx)(qn.a,{className:a.headerCell,align:"right",children:"Outstanding Balance"}),Object(h.jsx)(qn.a,{className:a.headerCell,align:"right",children:"Settlements Sent / Received"}),Object(h.jsx)(qn.a,{className:a.headerCell,align:"right",children:"Total"}),Object(h.jsx)(qn.a,{className:a.headerCell,align:"right",children:"Uncashed Amount"}),Object(h.jsx)(qn.a,{className:a.headerCell})]})}),Object(h.jsx)(Dn.a,{children:t.map((function(e){var t=e.peer,r=e.balance,c=e.received,i=e.sent,s=e.uncashedAmount,o=e.total;return Object(h.jsxs)(Ln.a,{children:[Object(h.jsx)(qn.a,{children:Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)("small",{children:Object(h.jsx)(cn,{peerId:t})}),Object(h.jsx)(dt,{value:t})]})}),Object(h.jsxs)(qn.a,{className:a.values,children:[Object(h.jsx)("span",{style:{color:r.toBigNumber.isPositive()?"#32c48d":"#c9201f"},children:r.toFixedDecimal()})," ","SANA"]}),Object(h.jsxs)(qn.a,{className:a.values,children:["-",i.toFixedDecimal()," / ",c.toFixedDecimal()," SANA"]}),Object(h.jsxs)(qn.a,{className:a.values,children:[Object(h.jsx)("span",{style:{color:o.toBigNumber.isPositive()?"#32c48d":"#c9201f"},children:o.toFixedDecimal()})," ","SANA"]}),Object(h.jsxs)(qn.a,{className:a.values,children:[n&&"loading...",!n&&Object(h.jsxs)(h.Fragment,{children:[s.toBigNumber.isGreaterThan("0")?s.toFixedDecimal():"0"," SANA"]})]}),Object(h.jsx)(qn.a,{className:a.values,children:s.toBigNumber.isGreaterThan("0")&&Object(h.jsx)(Qn,{uncashedAmount:s.toFixedDecimal(),peerId:t})})]},t)}))})]})})};var Jn=function(){var e,t,n,r=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),U.settlements.getSettlements().then((function(e){var t=e.totalReceived,n=e.settlements,a=e.totalSent,c={totalReceived:new X(t),totalSent:new X(a),settlements:n.map((function(e){var t=e.peer,n=e.received,a=e.sent;return{peer:t,received:new X(n),sent:new X(a)}}))};r(c)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{settlements:n,isLoadingSettlements:o,error:u}}(),c=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0),U.balance.balances().then((function(e){var t=e.balances.map((function(e){var t=e.peer,n=e.balance;return{peer:t,balance:new X(n)}}));r(t)})).catch((function(e){b(e)})).finally((function(){l(!1)}))}),[]),{peerBalances:n,isLoadingPeerBalances:o,error:u}}(),i=Object(a.useState)(null),o=Object(s.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(!1),u=Object(s.a)(j,2),h=u[0],x=u[1],O=Object(a.useState)(void 0),p=Object(s.a)(O,2),g=p[0],m=p[1],f=c.error||r.error||l;Object(a.useEffect)((function(){if(!h&&r.settlements&&!g&&!f){x(!0);var e=r.settlements.settlements.filter((function(e){return e.received.toBigNumber.gt("0")})).map((function(e){var t=e.peer;return U.chequebook.getPeerLastCashout(t)}));Promise.all(e).then(m).catch(d).finally((function(){return x(!1)}))}}),[r,h,g,f]);var v=function(e,t,n){if(!e||!t)return null;var a={};return e.forEach((function(e){var t=e.peer,n=e.balance;return a[t]={peer:t,balance:n,sent:new X("0"),received:new X("0"),uncashedAmount:new X("0"),total:n}})),t.forEach((function(e){var t=e.peer,n=e.sent,r=e.received;return a[t]=Object(b.a)(Object(b.a)({},a[t]),{},{sent:n,received:r,total:new X(a[t].balance.toBigNumber.plus(r.toBigNumber).minus(n.toBigNumber))})})),n?(null===n||void 0===n||n.forEach((function(e){var t=e.peer,n=e.uncashedAmount;a[t].uncashedAmount=new X(n)})),Object.values(a).sort((function(e,t){return t.uncashedAmount.toBigNumber.minus(e.uncashedAmount.toBigNumber).toNumber()}))):Object.values(a)}(c.peerBalances,null===(e=r.settlements)||void 0===e?void 0:e.settlements,g);return{isLoading:r.isLoadingSettlements||c.isLoadingPeerBalances,isLoadingUncashed:h,error:f,accounting:v,totalsent:(null===(t=r.settlements)||void 0===t?void 0:t.totalSent)||new X("0"),totalreceived:(null===(n=r.settlements)||void 0===n?void 0:n.totalReceived)||new X("0")}},_n=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",display:"grid",rowGap:e.spacing(3)}})}));function $n(){var e=_n(),t=_(),n=t.chequebookAddress,a=t.isLoadingChequebookAddress,r=$(),c=r.chequebookBalance,i=r.isLoadingChequebookBalance,s=Z(),o=s.nodeAddresses,l=s.isLoadingNodeAddresses,d=Q(),j=d.health,u=d.isLoadingHealth,b=M(),x=b.nodeHealth,O=b.isLoadingNodeHealth,p=Jn(),g=p.isLoading,m=p.totalsent,f=p.totalreceived,v=p.accounting,y=p.isLoadingUncashed,w=p.error;return u||O?Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)(Te.a,{})}):"ok"===(null===x||void 0===x?void 0:x.status)&&j?Object(h.jsxs)("div",{className:e.root,children:[Object(h.jsx)(Xn,{chequebookAddress:n,isLoading:a||g||i,chequebookBalance:c,totalsent:m,totalreceived:f}),Object(h.jsx)(Rt,{nodeAddresses:o,isLoadingNodeAddresses:l,chequebookAddress:n,isLoadingChequebookAddress:a}),w&&Object(h.jsxs)(De.a,{style:{textAlign:"center",padding:"50px"},children:["Error loading accounting details: ",w.message]}),!w&&Object(h.jsx)(Zn,{accounting:v,isLoadingUncashed:y})]}):Object(h.jsx)(Mt,{})}function ea(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(""),j=Object(s.a)(d,2),u=j[0],b=j[1];return Object(h.jsx)("div",{children:Object(h.jsxs)(De.a,{children:[Object(h.jsx)(Fe.a,{variant:"h4",gutterBottom:!0,children:"Settings"}),Object(h.jsx)(Re.a,{children:Object(h.jsx)(Je.a,{label:"API Endpoint",style:{margin:0},placeholder:"ex: 127.0.0.0.1:1633",helperText:"Enter node host override / port",fullWidth:!0,defaultValue:sessionStorage.getItem("api_host")?sessionStorage.getItem("api_host"):"http://localhost:1633",margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){l(e.target.value),r(!0)},variant:"filled"})}),Object(h.jsx)(Re.a,{style:{marginTop:"20px"},children:Object(h.jsx)(Je.a,{label:"Debug API Endpoint",style:{margin:0},placeholder:"ex: 127.0.0.0.1:1635",helperText:"Enter node debug host override / port",fullWidth:!0,defaultValue:sessionStorage.getItem("debug_api_host")?sessionStorage.getItem("debug_api_host"):"http://localhost:1635",onChange:function(e){b(e.target.value),r(!0)},margin:"normal",InputLabelProps:{shrink:!0},variant:"filled"})}),n?Object(h.jsx)("div",{style:{marginTop:"20px"},children:Object(h.jsx)(Ue.a,{variant:"outlined",color:"primary",onClick:function(){return o&&sessionStorage.setItem("api_host",o),u&&sessionStorage.setItem("debug_api_host",u),void((o||u)&&(r(!n),window.location.reload()))},children:"Save"})}):null]})})}var ta=Object(y.a)({table:{minWidth:650},values:{textAlign:"right",fontFamily:"monospace, monospace"}});var na=function(e){var t=e.postageStamps;if(null===t)return null;var n=ta();return Object(h.jsx)(In.a,{component:Re.a,children:Object(h.jsxs)(En.a,{className:n.table,size:"small","aria-label":"Balances Table",children:[Object(h.jsx)(Pn.a,{children:Object(h.jsxs)(Ln.a,{children:[Object(h.jsx)(qn.a,{children:"Batch ID"}),Object(h.jsx)(qn.a,{align:"right",children:"Usage"})]})}),Object(h.jsx)(Dn.a,{children:t.map((function(e){var t=e.batchID,a=e.usageText;return Object(h.jsxs)(Ln.a,{children:[Object(h.jsx)(qn.a,{children:Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)("small",{children:Object(h.jsx)(cn,{peerId:t})}),Object(h.jsx)(dt,{value:t})]})}),Object(h.jsx)(qn.a,{className:n.values,children:a})]},t)}))})]})})};function aa(e){var t=e.date,n=Object(a.useState)("never"),r=Object(s.a)(n,2),c=r[0],i=r[1],o=function(){i(t?"".concat(((Date.now()-t)/1e3).toFixed()," seconds ago"):"never")};return Object(a.useEffect)((function(){o();var e=setInterval(o,1e3);return function(){return clearInterval(e)}}),[t]),Object(h.jsxs)("span",{children:["Last Update: ",c]})}var ra=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",display:"grid",rowGap:e.spacing(2)},actions:{display:"flex",width:"100%",columnGap:e.spacing(1),rowGap:e.spacing(1),flex:"0 1 auto",flexWrap:"wrap",alignItems:"center"}})}));function ca(){var e=ra(),t=Q(),n=t.health,r=t.isLoadingHealth,c=M(),i=c.nodeHealth,s=c.isLoadingNodeHealth,o=Object(a.useContext)(on),l=o.stamps,d=o.isLoading,j=o.error,u=o.lastUpdate,b=o.start,x=o.stop;return Object(a.useEffect)((function(){return b(),function(){return x()}}),[]),r||s?Object(h.jsx)(De.a,{style:{textAlign:"center",padding:"50px"},children:Object(h.jsx)(Te.a,{})}):"ok"===(null===i||void 0===i?void 0:i.status)&&n?Object(h.jsxs)("div",{className:e.root,children:[j&&Object(h.jsxs)(De.a,{style:{textAlign:"center",padding:"50px"},children:["Error loading postage stamps details: ",j.message]}),!j&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:e.actions,children:[Object(h.jsx)(xn,{}),Object(h.jsx)(aa,{date:u}),Object(h.jsx)("div",{style:{height:"5px"},children:d&&Object(h.jsx)(Te.a,{})})]}),Object(h.jsx)(na,{postageStamps:l})]})]}):Object(h.jsx)(Mt,{})}var ia=function(){return Object(h.jsxs)(u.c,{children:[Object(h.jsx)(x,{exact:!0,path:"/",layout:qe,component:Xt}),Object(h.jsx)(x,{exact:!0,path:"/files/",layout:qe,component:Sn}),Object(h.jsx)(x,{exact:!0,path:"/peers/",layout:qe,component:Kn}),Object(h.jsx)(x,{exact:!0,path:"/accounting/",layout:qe,component:$n}),Object(h.jsx)(x,{exact:!0,path:"/settings/",layout:qe,component:ea}),Object(h.jsx)(x,{exact:!0,path:"/stamps/",layout:qe,component:ca})]})},sa=n(205),oa=n(126),la=function(e){return{MuiTab:{root:{backgroundColor:"transparent",fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(4),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{color:e.palette.secondary,opacity:1},"&$selected":{color:e.palette.secondary,fontWeight:e.typography.fontWeightMedium},"&:focus":{color:e.palette.secondary}}},MuiTabs:{root:{borderBottom:"none"},indicator:{backgroundColor:e.palette.primary.main}}}},da={MuiTab:{disableRipple:!0}},ja=Object(sa.a)({palette:{type:"light",background:{default:"#ffffff",appBar:"#212121",paper:"#fff"},primary:{light:oa.a.A200,main:"#4086e0",dark:"#086cf0"},secondary:{main:"#333333",light:"",dark:"#ff"}},typography:{fontFamily:["Work Sans","Montserrat","Nunito","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}}),ua=Object(sa.a)({palette:{type:"dark",background:{default:"#303030",paper:"#424242",appBar:"#212121"},primary:{light:"#fafafa",main:"#4086e0",dark:"#086cf0"},secondary:{main:"#1f2937"}},typography:{fontFamily:["Work Sans","Montserrat","Nunito","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}});ua.overrides=la(ua),ua.props=da,ja.overrides=la(ja),ja.props=da;var ba=Object(a.createContext)({theme:"dark"}),ha=function(){var e=Object(a.useState)("dark"),t=Object(s.a)(e,2),n=t[0];t[1];return Object(h.jsx)(l.a,{theme:"light"===n?ja:ua,children:Object(h.jsx)(dn,{children:Object(h.jsx)(j.a,{children:Object(h.jsxs)(ba.Provider,{value:{theme:n},children:[Object(h.jsx)(d.a,{}),Object(h.jsx)(o.a,{children:Object(h.jsx)(ia,{})})]})})})})},xa=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,442)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(ha,{})}),document.getElementById("root")),xa()}},[[331,1,2]]]);
//# sourceMappingURL=main.71dd9854.chunk.js.map