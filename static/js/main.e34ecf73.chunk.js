(this["webpackJsonpant-dashboard"]=this["webpackJsonpant-dashboard"]||[]).push([[0],{280:function(e,t,n){},281:function(e,t,n){},369:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(18),c=n.n(r),o=(n(280),n(61)),s=(n(281),n(434)),l=n(465),d=n(37),j=n(23),u=n(15),b=n(1),h=function(e){var t=e.component,n=e.layout,a=e.exact,i=e.path;return Object(b.jsx)(j.a,{exact:a,path:i,render:function(e){return Object(b.jsx)(n,Object(u.a)(Object(u.a)({},e),{},{children:Object(b.jsx)(t,Object(u.a)({},e))}))}})},p=n(5),x=n(49),O=n(77),g=n(78),m=n(114),f=n(113),v=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={error:null},a}return Object(g.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.error?Object(b.jsxs)("h1",{children:["Something went wrong. Error: ",this.state.error.message]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(a.Component),y=n(181),w=n(154),A=n(467),k=n(423),C=n(246),N=n(99),S=n(144),B=n.n(S),L=n(89),I=n(32),E=n.n(I);function T(e){return I.BigNumber.isBigNumber(e)&&e.isInteger()||"bigint"===typeof e}function P(e){if(I.BigNumber.isBigNumber(e))return e;if("string"===typeof e)return new I.BigNumber(e);if("bigint"===typeof e)return new I.BigNumber(e.toString());if("number"===typeof e)return new I.BigNumber(e);throw new TypeError("Not a BigNumber or BigNumber convertible value. Type: ".concat(typeof e," value: ").concat(e))}function D(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,a=arguments.length>1?arguments[1]:void 0,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(a=a||i.length,n)for(e=0;e<n;e++)r[e]=i[0|Math.random()*a];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",e=0;e<36;e++)r[e]||(t=0|16*Math.random(),r[e]=i[19===e?3&t|8:t]);return r.join("")}function H(){var e=[];try{JSON.parse(localStorage.node_api).forEach((function(t,n){var a=t.id,i=t.nodeName,r=t.apiHost,c=t.debugApiHost,o=t.authorizationCode;if(a){var s={id:a,nodeName:i?i.toString().trim():"node".concat(n),apiHost:r?r.toString().trim():"",debugApiHost:c?c.toString().trim():"",authorizationCode:o?o.toString().trim():""};e.push(s)}}))}catch(t){}return e}function q(){for(var e={id:"",nodeName:"",apiHost:"http://localhost:1633",debugApiHost:"http://localhost:1635",authorizationCode:""},t=H(),n=localStorage.acitve_node_api_key||"",a=0;a<t.length;a++)if(t[a].id===n){e=t[a];break}return t.length>0&&!e.id&&(e=t[0],localStorage.acitve_node_api_key=e.id),e}function z(e){var t=e.id,n=e.nodeName,a=e.apiHost,i=e.debugApiHost,r=e.authorizationCode,c=e.setActive,o=void 0===c||c,s=H(),l={id:t||"",nodeName:n.trim()?n.trim():"node".concat(s.length+1),apiHost:a.trim(),debugApiHost:i.trim(),authorizationCode:r.trim()};if(t){for(var d=0;d<s.length;d++)if(s[d].id===t){s[d]=l;break}}else l.id=D(),s.push(l);return localStorage.node_api=JSON.stringify(s),o&&(localStorage.acitve_node_api_key=l.id),l}function R(e){for(var t=H(),n=0;n<t.length;n++)if(t[n].id===e){t.splice(n,1);break}localStorage.node_api=JSON.stringify(t)}function F(e){localStorage.acitve_node_api_key=e}function U(e){try{if("string"!==typeof e)return!1;var t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(n){if(n instanceof TypeError||n.code&&"ERR_INVALID_URL"===n.code)return!1;throw n}}var W=q(),V=W.apiHost,K=W.debugApiHost,Y=function(){return new L.Bee(V)},G=function(){return new L.Bee(K)},M=function(){return new L.BeeDebug(K)},X={health:function(){return Y().isConnected()}},Q={uploadFile:function(e,t){return Y().uploadFile(e,t)},downloadFile:function(e){return Y().downloadFile(e)}},J={getPostageStamps:function(){return G().getAllPostageBatch()},buyPostageStamp:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return G().createPostageBatch(e.toString(),t,n)}},Z={status:{nodeHealth:function(){return M().getHealth()}},connectivity:{addresses:function(){return M().getNodeAddresses()},listPeers:function(){return M().getPeers()},topology:function(){return M().getTopology()},ping:function(e){return M().pingPeer(e)}},balance:{balances:function(){return M().getAllBalances()}},chequebook:{address:function(){return M().getChequebookAddress()},balance:function(){return M().getChequebookBalance()},getLastCheques:function(){return M().getLastCheques()},peerCashout:function(e){return M().cashoutLastCheque(e)},getPeerLastCashout:function(e){return M().getLastCashoutAction(e)},getPeerLastCheques:function(e){return M().getLastChequesForPeer(e)},withdraw:function(e){return M().withdrawTokens(e.toString())},deposit:function(e){return M().depositTokens(e.toString())}},settlements:{getSettlements:function(){return M().getAllSettlements()}}},_=n(85),$=n.n(_),ee=[18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0],te=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;Object(O.a)(this,e),this.amount=void 0,this.decimals=void 0;var a=P(t);if(!T(a)||!ee.includes(n))throw new TypeError("Not a valid token values");this.amount=a,this.decimals=n}return Object(g.a)(e,[{key:"toBigInt",get:function(){return BigInt(this.amount.toFixed(0))}},{key:"toString",get:function(){return this.amount.toFixed(0)}},{key:"toBigNumber",get:function(){return new I.BigNumber(this.amount)}},{key:"toDecimal",get:function(){return this.amount.dividedBy(new I.BigNumber(10).pow(this.decimals))}},{key:"toFixedDecimal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return this.toDecimal.toFixed(e)}}],[{key:"fromDecimal",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=P(t),i=a.multipliedBy(new I.BigNumber(10).pow(n));return new e(i,n)}}]),e}(),ne={refresh:function(){},exist:function(){return!1},nodeApi:q(),nodeApiList:H()},ae=Object(a.createContext)(ne);ae.Consumer;function ie(e){var t=e.children,n=Object(a.useState)(ne.nodeApi),i=Object(p.a)(n,2),r=i[0],c=i[1],o=Object(a.useState)(ne.nodeApiList),s=Object(p.a)(o,2),l=s[0],d=s[1],j=Object(a.useMemo)((function(){var e={},t={},n={};return l.forEach((function(a){var i=a.id,r=a.nodeName,c=a.apiHost,o=a.debugApiHost;r&&(e[r]=i),c&&(t[c]=i),o&&(n[o]=i)})),[e,t,n]}),[l]),u=Object(p.a)(j,3),h=u[0],x=u[1],O=u[2],g=Object(a.useCallback)((function(){c(q()),d(H())}),[c,d]),m=Object(a.useCallback)((function(e,t,n){var a=!1;return"nodeName"===e?a=Boolean(h[t])&&(!n||n!==h[t]):"apiHost"===e?a=Boolean(x[t])&&(!n||n!==x[t]):"debugApiHost"===e&&(a=Boolean(O[t])&&(!n||n!==O[t])),a}),[h,x,O]);return Object(b.jsx)(ae.Provider,{value:{nodeApi:r,nodeApiList:l,refresh:g,exist:m},children:t})}var re=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),X.health().then((function(e){i(e)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{health:n,isLoadingHealth:o,error:j}},ce=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),Z.status.nodeHealth().then((function(e){i(e)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{nodeHealth:n,isLoadingNodeHealth:o,error:j}},oe=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),Z.connectivity.addresses().then((function(e){i(e)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{nodeAddresses:n,isLoadingNodeAddresses:o,error:j}},se=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),Z.connectivity.topology().then((function(e){i(e)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{topology:n,isLoading:o,error:j}},le=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),Z.chequebook.address().then((function(e){i(e)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{chequebookAddress:n,isLoadingChequebookAddress:o,error:j}},de=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),Z.chequebook.balance().then((function(e){var t=e.totalBalance,n=e.availableBalance,a={totalBalance:new te(t),availableBalance:new te(n)};i(a)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{chequebookBalance:n,isLoadingChequebookBalance:o,error:j}},je=n(156),ue=n.n(je),be=function(){var e,t,n=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!1),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){$.a.get("".concat("https://api.github.com/repos/ethsana/sana","/releases/latest")).then((function(e){i(e.data)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{latestBeeRelease:n,isLoadingLatestBeeRelease:o,error:j}}(),i=n.latestBeeRelease,r=n.isLoadingLatestBeeRelease,c=ce(),o=c.nodeHealth,s=c.isLoadingNodeHealth,l=null===(e=ue.a.coerce(null===i||void 0===i?void 0:i.name))||void 0===e?void 0:e.version,d=null===(t=ue.a.coerce(null===o||void 0===o?void 0:o.version))||void 0===t?void 0:t.version,j=Boolean(l&&d&&ue.a.satisfies(l,d,{includePrerelease:!0}));return{isLoading:s||r,isOk:!0,userVersion:null===o||void 0===o?void 0:o.version,latestVersion:l,latestUrl:(null===i||void 0===i?void 0:i.html_url)||"https://github.com/ethsana/sana/releases/latest",isLatestBeeVersion:j}},he=function(){var e=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)({work:!1,reward:"0",pending:"0",expire:"0"}),d=Object(p.a)(l,2),j=d[0],u=d[1],b=Object(a.useContext)(ae).nodeApi;return Object(a.useEffect)((function(){var e=function(){i(!0),$.a.get("".concat(b.debugApiHost,"/mine/status"),{headers:{Authorization:b.authorizationCode||""}}).then((function(e){u(null===e||void 0===e?void 0:e.data)})).catch((function(e){var t;"404"===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status.toString())?s("404"):s(e.toString()),u(null)})).finally((function(){i(!1)}))};e();var t=setInterval((function(){return e()}),1e4);return function(){clearInterval(t)}}),[]),{isLoadingEarnsInfo:n,error:o,earnsInfo:j}}(),t=e.isLoadingEarnsInfo,n=e.error,i=e.earnsInfo;if(!i)return{reward:new te("0"),pending:new te("0"),totalEarns:new te("0"),isWork:!1,isLoadingEarnsInfo:t,isLockup:!1,error:n};var r=new te(i.reward),c=i.deposit?new te(i.deposit):null,o=new te(i.pending),s=new te(r.toBigNumber.plus(o.toBigNumber)),l=1e3*Number(i.expire)-(new Date).getTime()>=0;return{reward:r,pending:o,deposit:c,totalEarns:s,isWork:Boolean(i.work),isLoadingEarnsInfo:t,isLockup:!Boolean(i.work)||l,error:n}},pe=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",marginBottom:e.spacing(2)}})}));function xe(e){var t=pe(),n=be(),i=n.isLoading,r=n.userVersion,c=Object(a.useState)(!0),o=Object(p.a)(c,2),s=o[0],l=o[1];if(i||e.isLoadingNodeHealth)return null;var d=e.version===r;return Object(b.jsx)(C.a,{in:!d&&s,children:Object(b.jsx)("div",{className:t.root,children:Object(b.jsxs)(A.a,{severity:"warning",action:Object(b.jsx)(N.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){l(!1)},children:Object(b.jsx)(B.a,{fontSize:"inherit"})}),children:[Object(b.jsx)(k.a,{children:"Warning"}),"Your Ant node version (",Object(b.jsx)("code",{children:r}),") does not exactly match the Ant version we tested the Ant Dashboard against (",Object(b.jsx)("code",{children:e.version}),"). Please note that some functionality may not work properly."]})})})}var Oe=n(425),ge=n(426),me=n(374),fe=n(375),ve=n(376),ye=n(427),we=n(428),Ae=n(424),ke=n(224),Ce=n.n(ke),Ne=n(225),Se=n.n(Ne),Be=n(226),Le=n.n(Be),Ie=n(223),Ee=n.n(Ie),Te=n(222),Pe=n.n(Te),De=[{label:"Status",id:"status",path:"/",icon:Ae.a},{label:"Files",id:"files",path:"/files/",icon:Pe.a},{label:"Stamps",id:"stamps",path:"/stamps/",icon:Ee.a},{label:"Accounting",id:"accounting",path:"/accounting/",icon:Ce.a},{label:"Peers",id:"peers",path:"/peers/",icon:Se.a},{label:"Settings",id:"settings",path:"/settings/",icon:Le.a}],He=Object(y.a)((function(e){var t="light"===e.palette.type;return Object(w.a)({root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,backgroundColor:e.palette.background.paper,boxShadow:"none"},drawerContainer:{overflow:"auto"},activeSideBar:{},activeSideBarItem:{backgroundColor:"rgba(255, 255, 255, ".concat(t?"0.4":"0.16",")")},toolbar:e.mixins.toolbar})}));function qe(e){var t,n=He();return Object(b.jsx)("div",{className:n.root,children:Object(b.jsxs)(Oe.a,{className:n.drawer,variant:"permanent",classes:{paper:n.drawerPaper},children:[Object(b.jsxs)("div",{className:n.drawerContainer,children:[Object(b.jsx)(ge.a,{}),Object(b.jsx)(me.a,{children:De.map((function(t){return Object(b.jsx)(o.b,{to:t.path,style:{color:"inherit",textDecoration:"none"},children:Object(b.jsxs)(fe.a,{button:!0,selected:e.location.pathname===t.path,className:e.location.pathname===t.path?n.activeSideBarItem:"",children:[Object(b.jsx)(ve.a,{children:Object(b.jsx)(t.icon,{})}),Object(b.jsx)(ye.a,{primary:t.label,className:e.location.pathname===t.path?n.activeSideBar:""})]})},t.id)}))}),Object(b.jsx)(we.a,{})]}),Object(b.jsx)("div",{style:{position:"fixed",bottom:0,width:"inherit",padding:"10px"},children:Object(b.jsxs)(fe.a,{children:[Object(b.jsxs)("div",{style:{marginRight:"30px"},children:[Object(b.jsx)("div",{style:{backgroundColor:e.health?"#32c48d":"#c9201f",marginRight:"7px",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}}),Object(b.jsx)("span",{children:"API"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{backgroundColor:"ok"===(null===(t=e.nodeHealth)||void 0===t?void 0:t.status)?"#32c48d":"#c9201f",marginRight:"7px",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}}),Object(b.jsx)("span",{children:"Debug API"})]})]})})]})})}var ze=n(469),Re=n(91),Fe=n(430),Ue=n(431),We=n(433),Ve=n(187),Ke=n(429),Ye=n(432),Ge=n(147),Me=n.n(Ge),Xe=n(148),Qe=n.p+"static/media/sana-logo-light.710eb502.svg",Je=n.p+"static/media/sana-logo-dark.671b1352.svg",Ze=function(){return Object(a.useContext)(ae)},_e=Object(y.a)((function(e){return Object(w.a)({logo:{width:200,flexShrink:0,flexGrow:0},network:{color:"#fff",backgroundColor:"#32c48d"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},legend:{".PrivateNotchedOutline-legend-21":{width:"200px"}}})}));function $e(){var e=_e(),t=Object(a.useContext)(Ua).theme,n=Ze(),i=n.nodeApi,r=n.nodeApiList,c=n.refresh,o=Object(a.useState)(!1),s=Object(p.a)(o,2),l=s[0],d=s[1],j=Object(a.useState)(""),u=Object(p.a)(j,2),h=u[0],x=u[1],O=function(){d(!1)},g=[{field:"nodeName",headerName:"Node Name",width:200,editable:!1},{field:"apiHost",headerName:"Api Endpoint",width:260,editable:!1},{field:"debugApiHost",headerName:"Debug Api Endpoint",width:260,editable:!1},{headerName:" ",field:"null",renderCell:function(e){var t=e.row.id;return Object(b.jsx)(b.Fragment,{children:t===i.id?Object(b.jsx)(ze.a,{label:"CONNECTED",size:"small",icon:Object(b.jsx)(Me.a,{})}):Object(b.jsx)(Re.a,{size:"small",variant:"contained",color:"primary",onClick:function(){m(t)},children:"CONNECT"})})},filterable:!1,flex:1,hideSortIcons:!0,sortable:!1,editable:!1}],m=function(e){F(e),c(),window.location.reload()};return Object(b.jsxs)(ge.a,{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(b.jsx)("div",{className:e.logo,children:Object(b.jsx)("img",{src:"light"===t?Qe:Je,alt:"sana logo",width:"50"})}),Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[r.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{style:{color:"#999"},children:"Connected Node:"}),"\xa0",Object(b.jsx)(Re.a,{onClick:function(){d(!0)},style:{textTransform:"none"},endIcon:Object(b.jsx)(Ke.a,{}),children:Object(b.jsx)("span",{style:{marginRight:"-6px"},children:i.nodeName||i.apiHost||i.debugApiHost})}),Object(b.jsxs)(Fe.a,{open:l,onClose:O,maxWidth:"md",fullWidth:!0,children:[Object(b.jsxs)(Ue.a,{style:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},disableTypography:!0,children:[Object(b.jsx)("h2",{children:"Change Node API"}),Object(b.jsx)(N.a,{style:{marginRight:"-15px"},onClick:O,children:Object(b.jsx)(Ye.a,{})})]}),Object(b.jsxs)(We.a,{children:[Object(b.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[Object(b.jsx)(Ve.a,{label:"Type to search",variant:"outlined",size:"small",fullWidth:!0,value:h,onChange:function(e){x(e.target.value.trim())}}),Boolean(h)&&Object(b.jsx)(Re.a,{onClick:function(){x("")},children:"clear"})]}),Object(b.jsx)("div",{style:{height:20}}),Object(b.jsx)(Xe.a,{"aria-labelledby":"id",rows:r.filter((function(e){var t=e.nodeName,n=e.apiHost,a=e.debugApiHost;if(h){var i=h.toLowerCase();return t.toLowerCase().indexOf(i)>=0||n.toLowerCase().indexOf(i)>=0||a.toLowerCase().indexOf(i)>=0}return!0})),columns:g,headerHeight:45,rowHeight:45,pageSize:10,autoHeight:!0,disableSelectionOnClick:!0,disableColumnMenu:!0,disableColumnSelector:!0,disableDensitySelector:!0})]}),Object(b.jsx)("div",{style:{height:20}})]})]}),Object(b.jsx)(ze.a,{style:{marginLeft:"12px"},size:"small",label:"xDai",className:e.network})]})]})}var et=n(436),tt=Object(y.a)((function(e){return Object(w.a)({root:{padding:0},main:{marginLeft:"240px",flexGrow:1,minHeight:"calc(100vh - 64px)",backgroundColor:e.palette.background.default,padding:"12px",boxSizing:"border-box"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:e.palette.background.default,flexGrow:1},toolbar:{width:"100%",justifyContent:"space-between"},title:Object(x.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"})})})),nt=function(e){var t=tt(),n=Object(a.useState)("light"),i=Object(p.a)(n,2),r=i[0],c=(i[1],re().health),o=ce(),s=o.nodeHealth,l=o.isLoadingNodeHealth,d=null===s||void 0===s?void 0:s.version;return Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(et.a,{position:"fixed",className:t.appBar,children:Object(b.jsx)($e,{})}),Object(b.jsx)("div",{style:{height:"64px"}}),Object(b.jsx)(qe,Object(u.a)(Object(u.a)({},e),{},{themeMode:r,health:c,nodeHealth:s})),Object(b.jsx)(v,{children:Object(b.jsxs)("main",{className:t.main,children:[Object(b.jsx)(xe,{version:d,isLoadingNodeHealth:l}),e.children]})})]})},at=n(437),it=n(383),rt=n(90),ct=n(79),ot=n(470),st=n(443),lt=n(385),dt=n(447),jt=n(450),ut=n(442),bt=n(444),ht=n(445),pt=n(446),xt=n(448),Ot=n(449);function gt(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(p.a)(c,2),s=o[0],l=o[1],d=Object(a.useState)(""),j=Object(p.a)(d,2),h=j[0],x=j[1],O=Object(a.useContext)(ae).nodeApi;return Object(b.jsx)("div",{children:i?Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)(Ve.a,{defaultValue:e.defaultHost,label:"Enter host",variant:"outlined",size:"small",onChange:function(e){return x(e.target.value)},style:{marginRight:"15px",minWidth:"300px"}}),Object(b.jsx)(Re.a,{onClick:function(){h&&(l(!0),"api_host"===e.hostName?z(Object(u.a)(Object(u.a)({},O),{},{apiHost:h})):"debug_api_host"===e.hostName?z(Object(u.a)(Object(u.a)({},O),{},{debugApiHost:h})):localStorage.setItem(e.hostName,h),r(!i),window.location.reload())},size:"small",variant:"outlined",children:"Connect"}),Object(b.jsx)(Re.a,{style:{marginLeft:"7px"},onClick:function(){return r(!i)},size:"small",children:"Cancel"})]}):s?Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"0px"},children:Object(b.jsx)(it.a,{size:20})}):Object(b.jsx)(Re.a,{onClick:function(){return r(!i)},size:"small",variant:"outlined",children:"Change host"})})}function mt(e){var t=e.isLoading,n=e.isOk;if(t)return null;var a=Object(b.jsxs)("div",{style:{display:"flex",marginTop:"25px",marginBottom:"25px"},children:[Object(b.jsxs)("span",{style:{marginRight:"15px"},children:["Debug API (",Object(b.jsx)(ct.a,{variant:"button",children:K}),")"]}),Object(b.jsx)(gt,{hostName:"debug_api_host",defaultHost:K})]});return n?a:Object(b.jsxs)("div",{children:[a,Object(b.jsx)("div",{children:Object(b.jsxs)(ct.a,{component:"div",variant:"body2",gutterBottom:!0,style:{margin:"15px"},children:["We cannot connect to your nodes debug API at ",Object(b.jsx)(ct.a,{variant:"button",children:K}),". Please check the following to troubleshoot your issue."]})})]})}function ft(e){var t=e.isLoading,n=e.isOk;return t?null:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex",marginBottom:"25px"},children:[Object(b.jsxs)("span",{style:{marginRight:"15px"},children:["Node API (",Object(b.jsx)(ct.a,{variant:"button",children:V}),")"]}),Object(b.jsx)(gt,{hostName:"api_host",defaultHost:V})]}),Object(b.jsx)("div",{children:!n&&Object(b.jsxs)(ct.a,{component:"div",variant:"body2",gutterBottom:!0,style:{margin:"15px"},children:["We cannot connect to your nodes API at ",Object(b.jsx)(ct.a,{variant:"button",children:V}),". Please check the following to troubleshoot your issue."]})})]})}function vt(e){var t=e.isLoading,n=e.isOk,a=e.userVersion,i=e.latestVersion,r=e.latestUrl;if(t)return null;var c=Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsxs)("div",{style:{marginRight:"30px"},children:[Object(b.jsx)("p",{children:Object(b.jsx)("span",{children:"User Version"})}),Object(b.jsx)(ct.a,{component:"h5",variant:"h5",children:Object(b.jsx)("span",{children:a||"--"})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:Object(b.jsx)("span",{children:"Latest Version"})}),Object(b.jsx)(ct.a,{component:"h5",variant:"h5",children:Object(b.jsx)("span",{children:i})})]})]});return n?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{children:"You are running the latest version of Ant"}),c]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{children:["Your Ant version is out of date. Please update to the"," ",Object(b.jsx)("a",{href:r,rel:"noreferrer",target:"_blank",children:"latest"})," ","before continuing. Rerun the installation script below to upgrade. Reference the docs for help with updating."," ",Object(b.jsx)("a",{href:"https://docs.ethswarm.org/docs/installation/manual#upgrading-bee",rel:"noreferrer",target:"_blank",children:"Docs"})]}),c]})}var yt=n(228),wt=n.n(yt),At=n(438);function kt(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),i=n[0],r=n[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(N.a,{color:"primary",size:"small",onClick:function(){r(!0)},children:Object(b.jsx)(At.a,{})}),Object(b.jsx)(Fe.a,{onClose:function(){r(!1)},"aria-labelledby":"simple-dialog-title",open:i,children:Object(b.jsxs)("div",{style:{padding:"30px",textAlign:"center"},children:[Object(b.jsx)(Ue.a,{id:"simple-dialog-title",children:e.label}),Object(b.jsx)(wt.a,{value:e.value,size:150,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!1,renderAs:"svg"})]})})]})}var Ct=n(229),Nt=n(439);function St(e){var t=e.value,n=Object(d.b)().enqueueSnackbar;return Object(b.jsx)("div",{style:{marginRight:"3px",marginLeft:"3px"},children:Object(b.jsx)(N.a,{color:"primary",size:"small",onClick:function(){return n("Copied: ".concat(t),{variant:"success"})},children:Object(b.jsx)(Ct.CopyToClipboard,{text:t,children:Object(b.jsx)(Nt.a,{style:{height:"20px"}})})})})}var Bt=n(230),Lt=n.n(Bt);function It(e){return Object(b.jsx)(ct.a,{component:"div",variant:"subtitle1",children:e.address?Object(b.jsxs)("div",{style:{display:"flex"},children:[e.hideBlockie?null:Object(b.jsx)("div",{style:{paddingTop:"5px",marginRight:"10px"},children:Object(b.jsx)(Lt.a,{style:{width:"23"}})}),Object(b.jsx)("div",{children:Object(b.jsx)("a",{style:e.truncate?{marginRight:"7px",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"}:{marginRight:"7px"},href:"https://".concat(e.network,"/").concat(e.transaction?"tx":"address","/").concat(e.address),target:"_blank",rel:"noreferrer",children:e.address})}),Object(b.jsx)(kt,{value:e.address,label:"Ethereum Address"}),Object(b.jsx)(St,{value:e.address})]}):"-"})}function Et(e){var t=e.isLoading,n=e.isOk,a=e.nodeAddresses;return t?null:n?Object(b.jsxs)("div",{children:[Object(b.jsx)(ct.a,{variant:"subtitle1",gutterBottom:!0,children:"Node Address"}),Object(b.jsx)(It,{address:null===a||void 0===a?void 0:a.ethereum,network:"blockscout.com/xdai/mainnet"})]}):Object(b.jsxs)("p",{children:["Your Ant node must have access to the xdai blockchain, By default, Ant expects a local node at http://localhost:8545. To use a provider instead, simply change your ",Object(b.jsx)("strong",{children:"--swap-endpoint"})," in your configuration file."]})}var Tt=n(66),Pt=n.n(Tt),Dt=n(96),Ht=n(377),qt=n(441),zt=n(440),Rt=n(379);function Ft(e){var t=e.successMessage,n=e.errorMessage,i=e.dialogMessage,r=e.min,c=e.max,o=e.label,s=e.action,l=Object(a.useState)(!1),j=Object(p.a)(l,2),u=j[0],h=j[1],x=Object(a.useState)(""),O=Object(p.a)(x,2),g=O[0],m=O[1],f=Object(a.useState)(null),v=Object(p.a)(f,2),y=v[0],w=v[1],A=Object(a.useState)(null),k=Object(p.a)(A,2),C=k[0],N=k[1],S=Object(d.b)().enqueueSnackbar,B=function(){h(!1)},L=function(){var e=Object(Dt.a)(Pt.a.mark((function e(){var a;return Pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==y){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,s(y.toBigInt);case 5:a=e.sent,h(!1),S("".concat(t," Transaction ").concat(a),{variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),S("".concat(n," Error: ").concat(e.t0.message),{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(Re.a,{variant:"outlined",color:"primary",onClick:function(){h(!0)},children:o}),Object(b.jsxs)(Fe.a,{open:u,onClose:B,"aria-labelledby":"form-dialog-title",children:[Object(b.jsx)(Ue.a,{id:"form-dialog-title",children:o}),Object(b.jsxs)(We.a,{children:[Object(b.jsx)(zt.a,{children:i}),Object(b.jsx)(Ht.a,{autoFocus:!0,margin:"dense",id:"name",type:"text",placeholder:"Amount",fullWidth:!0,value:g,onChange:function(e){var t=e.target.value;m(t),N(null);try{var n=te.fromDecimal(t);w(n),r&&n.toDecimal.isLessThan(r)&&N(new Error("Needs to be more than ".concat(r))),c&&n.toDecimal.isGreaterThan(c)&&N(new Error("Needs to be less than ".concat(c)))}catch(e){N(e)}}}),C&&Object(b.jsxs)(Rt.a,{error:!0,children:["Please provide valid SANA amount (max 16 decimals). Error: ",C.message]})]}),Object(b.jsxs)(qt.a,{children:[Object(b.jsx)(Re.a,{onClick:B,color:"primary",children:"Cancel"}),Object(b.jsx)(Re.a,{onClick:L,color:"primary",children:o})]})]})]})}function Ut(){return Object(b.jsx)(Ft,{successMessage:"Successful deposit.",errorMessage:"Error with depositing",dialogMessage:"Specify the amount of SANA you would like to withdraw from your node.",label:"Deposit",min:new I.BigNumber(0),action:Z.chequebook.deposit})}var Wt=function(e){var t=e.isLoading,n=e.chequebookAddress,a=e.chequebookBalance;return t?null:Object(b.jsxs)("div",{children:[(null===n||void 0===n?void 0:n.chequebookAddress)&&(null===a||void 0===a?void 0:a.totalBalance.toBigNumber.isGreaterThan(0))&&Object(b.jsx)("p",{style:{marginBottom:"20px",display:"flex"},children:Object(b.jsx)(Ut,{})}),Object(b.jsx)("div",{style:{marginBottom:"10px"},children:!(null===n||void 0===n?void 0:n.chequebookAddress)&&Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:["Your chequebook is either not deployed or funded. Join"," ",Object(b.jsx)("a",{href:"https://discord.gg/c72mpR7Erf",rel:"noreferrer",target:"_blank",children:"our discord channel"})]})})}),Object(b.jsx)(ct.a,{variant:"subtitle1",gutterBottom:!0,children:"Chequebook Address"}),Object(b.jsx)(It,{address:null===n||void 0===n?void 0:n.chequebookAddress,network:"blockscout.com/xdai/mainnet"})]})};function Vt(e){var t=e.isLoading,n=e.isOk,a=e.topology;if(t)return null;var i=Object(b.jsxs)("div",{style:{display:"flex",marginTop:"15px"},children:[Object(b.jsxs)("div",{style:{marginRight:"30px"},children:[Object(b.jsx)(ct.a,{component:"div",variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:Object(b.jsx)("span",{children:"Connected Peers"})}),Object(b.jsx)(ct.a,{component:"h2",variant:"h5",children:(null===a||void 0===a?void 0:a.connected)?a.connected:"-"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(ct.a,{component:"div",variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:Object(b.jsx)("span",{children:"Discovered Nodes"})}),Object(b.jsx)(ct.a,{component:"h2",variant:"h5",children:(null===a||void 0===a?void 0:a.population)?a.population:"-"})]})]});return n?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{children:"You are connected to peers!"}),i]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{children:"Your node is not connected to any peers"}),i]})}var Kt=function(){var e=Object(a.useContext)(ae).nodeApi,t=Object(a.useState)(""),n=Object(p.a)(t,2),i=n[0],r=n[1];return Object(b.jsxs)(b.Fragment,{children:[!e.authorizationCode&&Object(b.jsx)(ct.a,{component:"div",variant:"body2",gutterBottom:!0,children:"If you have configured dashboard-authorization in sana.yaml(ant version >0.1.0), \n        please fill in the corresponding value to secure the node, if not, it is not necessary."}),Object(b.jsxs)("div",{style:{display:"flex",marginTop:"25px",marginBottom:"25px"},children:[Object(b.jsx)(Ve.a,{defaultValue:e.authorizationCode,label:"Node Dashboard-Authorization",variant:"outlined",size:"small",placeholder:"Enter the node dashboard-authorization",style:{marginRight:"15px",minWidth:"320px"},onChange:function(e){var t,n;r(null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.trim())}}),Object(b.jsx)(Re.a,{size:"small",variant:"outlined",onClick:function(){e.authorizationCode!==i&&(z(Object(u.a)(Object(u.a)({},e),{},{authorizationCode:i})),window.location.reload())},children:"Set"}),Object(b.jsx)("div",{style:{width:"10px"}})]})]})},Yt=Object(y.a)((function(e){return Object(w.a)({root:{padding:e.spacing(2),width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{margin:e.spacing(2)}})}));function Gt(e){var t,n=e.nodeVersion,i=e.ethereumConnection,r=e.debugApiConnection,c=e.apiConnection,o=e.topology,s=e.chequebook,l=Yt(),d=Object(a.useState)(-1),j=Object(p.a)(d,2),h=j[0],x=j[1],O=[{label:"Running latest Ant version",isOk:n.isOk,isLoading:n.isLoading,component:Object(b.jsx)(vt,Object(u.a)({},n))},{label:"Setting Node Authorization",isOk:n.isOk,isLoading:n.isLoading,component:Object(b.jsx)(Kt,{})},{label:"Connected to Node DebugAPI",isOk:r.isOk,isLoading:r.isLoading,component:Object(b.jsx)(mt,Object(u.a)({},r))},{label:"Connected to Ethereum Blockchain",isOk:i.isOk,isLoading:i.isLoading,component:Object(b.jsx)(Et,Object(u.a)({},i))},{label:"Deployed and Funded Chequebook",isOk:s.isOk,isLoading:s.isLoading,component:Object(b.jsx)(Wt,Object(u.a)({ethereumAddress:null===(t=i.nodeAddresses)||void 0===t?void 0:t.ethereum},s))},{label:"Connected to Node API",isOk:c.isOk,isLoading:c.isLoading,component:Object(b.jsx)(ft,Object(u.a)({},c))},{label:"Connected to Peers",isOk:o.isOk,isLoading:o.isLoading,component:Object(b.jsx)(Vt,Object(u.a)({},o))}];Object(a.useEffect)((function(){if(!(h>=0&&h<O.length)&&O.every((function(e){return!e.isLoading})))for(var e=0;e<O.length;++e)if(!O[e].isOk)return void x(e)}),[O]);var g=function(){x((function(e){return e+1}))},m=function(){x((function(e){return e-1}))};return Object(b.jsxs)(rt.a,{className:l.root,children:[Object(b.jsxs)(ct.a,{variant:"h5",gutterBottom:!0,children:["Node Setup",Object(b.jsx)("span",{style:{marginLeft:"25px"},children:Object(b.jsxs)(Re.a,{variant:"outlined",size:"small",onClick:function(){return window.location.reload()},children:[Object(b.jsx)(ut.a,{}),Object(b.jsx)("span",{style:{marginLeft:"7px"},children:"Refresh Checks"})]})})]}),Object(b.jsx)(ot.a,{nonLinear:!0,activeStep:h,orientation:"vertical",children:O.map((function(e,t){var n=e.label,a=e.isOk,i=e.component,r=e.isLoading;return Object(b.jsxs)(st.a,{children:[Object(b.jsx)(lt.a,{disabled:r,onClick:function(){return x(t===h?O.length:t)},StepIconComponent:function(){return r?Object(b.jsx)(bt.a,{style:{height:"25px",cursor:"pointer"}}):a?Object(b.jsx)(ht.a,{style:{color:"#32c48d",height:"25px",cursor:"pointer"}}):Object(b.jsx)(pt.a,{style:{color:"#c9201f",height:"25px",cursor:"pointer"}})},children:Object(b.jsx)(dt.a,{disabled:r,onClick:function(){return x(t===h?O.length:t)},style:{justifyContent:"space-between"},children:Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("div",{style:{marginTop:"5px"},children:n}),Object(b.jsx)("div",{style:{marginLeft:"12px"},children:t===h?Object(b.jsx)(xt.a,{}):Object(b.jsx)(Ot.a,{})})]})})}),Object(b.jsxs)(jt.a,{children:[Object(b.jsx)(ct.a,{component:"div",children:i}),Object(b.jsx)("div",{className:l.actionsContainer,children:Object(b.jsxs)("div",{children:[Object(b.jsx)(Re.a,{disabled:0===h,onClick:m,className:l.button,children:"Back"}),Object(b.jsx)(Re.a,{variant:"contained",color:"primary",onClick:g,className:l.button,children:t<O.length-1?"Next":"Finish"})]})})]})]},n)}))})]})}var Mt=n(451),Xt=n(452),Qt=n(453),Jt=n(454),Zt=Object(y.a)((function(){return Object(w.a)({root:{display:"flex",flex:"1 1 auto",flexDirection:"column"},status:{color:"#2145a0",backgroundColor:"#e1effe"}})}));var _t=function(e){var t=e.userBeeVersion,n=e.nodeAddresses,i=e.nodeTopology,r=e.isOk,c=e.isLatestBeeVersion,s=e.latestUrl,l=Zt(),d=Object(a.useState)(!1),j=Object(p.a)(d,2),u=j[0],h=j[1];return Object(b.jsx)(Mt.a,{children:Object(b.jsxs)(Xt.a,{className:l.root,children:[Object(b.jsxs)(ct.a,{component:"h5",variant:"h5",style:{display:"flex",justifyContent:"space-between"},children:[r&&Object(b.jsxs)("div",{children:[Object(b.jsx)(ht.a,{style:{color:"#32c48d",marginRight:"7px"}}),Object(b.jsx)("span",{children:"Your ant node is running as expected"})]}),!r&&Object(b.jsxs)("div",{children:[Object(b.jsx)(pt.a,{style:{color:"#c9201f",marginRight:"7px"}}),Object(b.jsx)("span",{children:"Could not connect to ant node"})]})]}),r&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(b.jsxs)("span",{style:{marginRight:"20px"},children:["Discovered Nodes: ",null===i||void 0===i?void 0:i.population]}),Object(b.jsxs)("span",{style:{marginRight:"20px"},children:[Object(b.jsx)("span",{children:"Connected Peers: "}),Object(b.jsx)(o.b,{to:"/peers/",children:null===i||void 0===i?void 0:i.connected})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)(ct.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(b.jsx)("span",{children:"AGENT: "}),Object(b.jsx)("a",{href:"https://github.com/ethsana/sana",rel:"noreferrer",target:"_blank",children:"Ant"})," ",Object(b.jsx)("span",{children:t||"-"}),c?Object(b.jsx)(ze.a,{style:{marginLeft:"7px",color:"#2145a0"},size:"small",label:"latest",className:l.status}):Object(b.jsx)(Re.a,{size:"small",variant:"outlined",href:s,children:"update"})]}),Object(b.jsxs)(ct.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(b.jsx)("span",{children:"PUBLIC KEY: "}),Object(b.jsx)("span",{children:(null===n||void 0===n?void 0:n.publicKey)?n.publicKey:"-"})]}),Object(b.jsxs)(ct.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(b.jsx)("span",{children:"PSS PUBLIC KEY: "}),Object(b.jsx)("span",{children:(null===n||void 0===n?void 0:n.pssPublicKey)?n.pssPublicKey:"-"})]}),Object(b.jsxs)(ct.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(b.jsx)("span",{children:"OVERLAY ADDRESS (PEER ID): "}),Object(b.jsx)("span",{children:(null===n||void 0===n?void 0:n.overlay)?n.overlay:"-"})]}),Object(b.jsxs)(ct.a,{component:"div",variant:"subtitle2",gutterBottom:!0,children:[Object(b.jsx)(ct.a,{component:"div",onClick:function(){return h(!u)},children:Object(b.jsxs)(Re.a,{color:"primary",style:{padding:0,marginTop:"6px"},children:[u?Object(b.jsx)(Qt.a,{style:{fontSize:"12px"}}):Object(b.jsx)(Jt.a,{style:{fontSize:"12px"}}),Object(b.jsx)("span",{children:"Underlay Addresses"})]})}),u&&Object(b.jsx)("div",{children:null===n||void 0===n?void 0:n.underlay.map((function(e){return Object(b.jsx)("li",{children:e},e)}))})]})]})]})]})})},$t=n(455),en=Object(y.a)((function(){return Object(w.a)({root:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",paddingLeft:8,paddingRight:8},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"}})}));var tn=function(e){var t,n,a=en();return Object(b.jsxs)(Mt.a,{className:a.root,children:[e.isLoadingNodeAddresses?Object(b.jsxs)("div",{style:{padding:"16px"},children:[Object(b.jsx)($t.a,{width:300,height:30,animation:"wave"}),Object(b.jsx)($t.a,{width:300,height:50,animation:"wave"})]}):Object(b.jsx)("div",{className:a.details,children:Object(b.jsxs)(Xt.a,{className:a.content,children:[Object(b.jsx)(ct.a,{variant:"subtitle1",gutterBottom:!0,children:"Ethereum Address"}),Object(b.jsx)(It,{address:null===(t=e.nodeAddresses)||void 0===t?void 0:t.ethereum,network:"blockscout.com/xdai/mainnet"})]})}),e.isLoadingChequebookAddress?Object(b.jsxs)("div",{style:{padding:"16px"},children:[Object(b.jsx)($t.a,{width:300,height:30,animation:"wave"}),Object(b.jsx)($t.a,{width:300,height:50,animation:"wave"})]}):Object(b.jsx)("div",{className:a.details,children:Object(b.jsxs)(Xt.a,{className:a.content,children:[Object(b.jsx)(ct.a,{variant:"subtitle1",gutterBottom:!0,children:"Chequebook Contract Address"}),Object(b.jsx)(It,{address:null===(n=e.chequebookAddress)||void 0===n?void 0:n.chequebookAddress,network:"blockscout.com/xdai/mainnet"})]})})]})},nn=n(456),an=!1;function rn(e){var t=e.disabled,n=i.a.useState(!1),r=Object(p.a)(n,2),c=r[0],o=r[1],s=i.a.useState(""),l=Object(p.a)(s,2),j=l[0],u=l[1],h=Object(d.b)().enqueueSnackbar,x=Object(a.useState)(!1),O=Object(p.a)(x,2),g=O[0],m=O[1],f=Object(a.useState)(!1),v=Object(p.a)(f,2),y=v[0],w=v[1],A=Object(a.useContext)(ae).nodeApi,k=Object(a.useCallback)((function(){an||t||g||(an=!0,m(!0),$.a.post("".concat(A.debugApiHost,"/mine/withdraw"),{},{headers:{Authorization:A.authorizationCode}}).then((function(e){var t=e.data;Boolean(null===t||void 0===t?void 0:t.code)?h("Cashout: ".concat(null===t||void 0===t?void 0:t.message),{variant:"error"}):(u(null===t||void 0===t?void 0:t.hash),w(!(null===t||void 0===t?void 0:t.hash)),o(!0))})).catch((function(e){e.response?h("Withdraw: ".concat(e.response.data.message),{variant:"error"}):h("Withdraw: ".concat(e.toString()),{variant:"error"})})).finally((function(){an=!1,m(!1)})))}),[u,o,w,h,an,t]);return Object(b.jsxs)("div",{children:[Object(b.jsxs)(Re.a,{variant:"contained",disabled:t,color:"primary",style:{marginRight:"14px"},onClick:k,children:[g&&Object(b.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(66,66,66,.8)"},children:Object(b.jsx)(it.a,{style:{width:"24px",height:"24px"}})}),"Cashout"]}),Object(b.jsxs)(Fe.a,{open:c,"aria-labelledby":"draggable-dialog-title",fullWidth:!0,children:[Object(b.jsx)(Ue.a,{id:"draggable-dialog-title",children:"Cashout"}),Object(b.jsxs)(We.a,{children:[g&&Object(b.jsx)("p",{children:"Cashout..."}),!g&&j&&Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(zt.a,{style:{marginTop:"20px",overflowWrap:"break-word"},children:"Copy the transaction hash or click on the link below for details"}),Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["Hash:"," ",Object(b.jsx)("a",{style:{margin:"0 7px",fontSize:"14px"},href:"https://blockscout.com/xdai/mainnet/tx/".concat(j),target:"_blank",rel:"noreferrer",children:j.slice(0,16)+"******"+j.slice(j.length-16)}),Object(b.jsx)(St,{value:j})]})]}),y&&Object(b.jsx)("p",{style:{color:"red"},children:"Failed to Cashout"})]}),Object(b.jsx)(qt.a,{children:Object(b.jsx)(Re.a,{autoFocus:!0,variant:"outlined",color:"primary",onClick:function(){o(!1)},children:"OK"})})]})]})}var cn=!1;function on(e){var t=e.disabled,n=i.a.useState(!1),r=Object(p.a)(n,2),c=r[0],o=r[1],s=i.a.useState(""),l=Object(p.a)(s,2),j=l[0],u=l[1],h=Object(d.b)().enqueueSnackbar,x=Object(a.useState)(!1),O=Object(p.a)(x,2),g=O[0],m=O[1],f=Object(a.useState)(!1),v=Object(p.a)(f,2),y=v[0],w=v[1],A=Object(a.useContext)(ae).nodeApi,k=Object(a.useCallback)((function(){if(!(cn||t||j)){cn=!0,m(!0);var e=A.debugApiHost;$.a.post("".concat(e,"/mine/cashdeposit"),{},{headers:{Authorization:A.authorizationCode}}).then((function(e){var t=e.data;u(t.hash),w(!t.hash)})).catch((function(e){e.response?h("Withdraw: ".concat(e.response.data.message),{variant:"error"}):h("Withdraw: ".concat(e.toString()),{variant:"error"})})).finally((function(){cn=!1,m(!1)}))}}),[u,o,h,m,cn,g,t,j]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(Re.a,{variant:"contained",disabled:t||Boolean(j),color:"primary",style:{marginRight:"14px"},onClick:function(){o(!0)},children:"Withdraw desposit"}),Object(b.jsxs)(Fe.a,{open:c,"aria-labelledby":"draggable-dialog-title",fullWidth:!0,children:[Object(b.jsx)(Ue.a,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Withdraw Desposit"}),Object(b.jsxs)(We.a,{children:[g&&Object(b.jsx)("p",{children:"withdraw... "}),!g&&!j&&Object(b.jsx)("p",{children:"You will not be able to continue mining after withdrawing desposit"}),!g&&j&&Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(zt.a,{style:{marginTop:"20px",overflowWrap:"break-word"},children:"Copy the transaction hash or click on the link below for details"}),Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["Hash:"," ",Object(b.jsx)("a",{style:{margin:"0 7px",fontSize:"14px"},href:"https://blockscout.com/xdai/mainnet/tx/".concat(j),target:"_blank",rel:"noreferrer",children:j.slice(0,12)+"***"+j.slice(j.length-12)}),Object(b.jsx)(St,{value:j})]})]}),y&&Object(b.jsx)("p",{style:{color:"red"},children:"Failed to withdraw desposit"})]}),Object(b.jsxs)(qt.a,{children:[Object(b.jsx)(Re.a,{onClick:function(){o(!1)},variant:"outlined",children:"cancel"}),Object(b.jsx)("div",{style:{marginRight:"8px"}}),Object(b.jsxs)(Re.a,{onClick:k,variant:"outlined",color:"primary",disabled:Boolean(j),children:["withdraw",g&&Object(b.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(b.jsx)(it.a,{style:{width:"24px",height:"24px"}})})]})]})]})]})}var sn=Object(y.a)((function(e){return Object(w.a)({root:{flexGrow:1},card:{padding:e.spacing(2)},span:{margin:"10px auto",color:e.palette.text.primary,fontWeight:500,fontSize:15},label:{display:"block",fontSize:16,color:e.palette.primary.main},val:{display:"block",paddingTop:"2px"}})})),ln=function(e){var t=e.isWork;return Object(b.jsx)("div",{style:{backgroundColor:t?"#32c48d":"red",marginRight:"7px",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}})};var dn=function(e){var t=e.error,n=e.isLockup,a=e.isWork,i=e.pending,r=e.reward,c=e.totalEarns,o=e.deposit,s=sn();return Object(b.jsx)("div",{className:s.root,children:Object(b.jsxs)(nn.a,{container:!0,spacing:4,children:[Object(b.jsx)(nn.a,{item:!0,xs:3,children:Object(b.jsxs)(Mt.a,{className:s.card,children:[Object(b.jsxs)("div",{className:s.span,children:[Object(b.jsx)("span",{className:s.label,children:"Amount of SANA deposits"}),Object(b.jsx)("span",{className:s.val,children:a?o?o.toFixedDecimal():"50000":"--"})]}),Object(b.jsxs)("div",{className:s.span,children:[Object(b.jsx)("span",{className:s.label,children:"Miner Node Status"}),Object(b.jsxs)("span",{className:s.val,children:[Object(b.jsx)(ln,{isWork:a}),t?" The node is wrong, refresh to check":a?"working":"unwork",t&&Object(b.jsxs)(Re.a,{variant:"outlined",size:"small",style:{marginTop:"7px"},onClick:function(){return window.location.reload()},children:[Object(b.jsx)(ut.a,{}),Object(b.jsx)("span",{children:"Refresh Checks"})]})]})]})]})}),Object(b.jsx)(nn.a,{item:!0,xs:3,children:Object(b.jsxs)(Mt.a,{className:s.card,children:[Object(b.jsxs)("div",{className:s.span,children:[Object(b.jsx)("span",{className:s.label,children:"Received rewards"}),Object(b.jsx)("span",{className:s.val,children:r.toFixedDecimal()})]}),Object(b.jsxs)("div",{className:s.span,children:[Object(b.jsx)("span",{className:s.label,children:"Unclaimed awards"}),Object(b.jsx)("span",{className:s.val,children:i.toFixedDecimal()})]})]})}),Object(b.jsx)(nn.a,{item:!0,xs:3,children:Object(b.jsxs)(Mt.a,{className:s.card,children:[Object(b.jsxs)("div",{className:s.span,children:[Object(b.jsx)("span",{className:s.label,children:"Frozen SANA"}),Object(b.jsx)("span",{className:s.val,children:a?n?o?o.toFixedDecimal():"50,000":"0":"--"})]}),Object(b.jsxs)("div",{className:s.span,children:[Object(b.jsx)("span",{className:s.label,children:"Unfrozen SANA"}),Object(b.jsx)("span",{className:s.val,children:a?n?0:o?o.toFixedDecimal():"50,000":"--"})]})]})}),Object(b.jsx)(nn.a,{item:!0,xs:3,children:Object(b.jsxs)(Mt.a,{className:s.card,children:[Object(b.jsxs)("div",{className:s.span,children:[Object(b.jsx)("span",{className:s.label,children:"Total revenue"}),Object(b.jsx)("span",{className:"val",children:c.toFixedDecimal()})]}),Object(b.jsxs)("div",{className:s.span,style:{display:"flex",marginTop:"20px"},children:[Object(b.jsx)(rn,{disabled:Boolean(i.toBigNumber.isZero())}),Object(b.jsx)(on,{disabled:n})]})]})})]})})},jn=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",display:"grid",rowGap:e.spacing(3)}})}));function un(){var e=jn(),t=be(),n=function(){var e=oe(),t=e.isLoadingNodeAddresses,n=e.nodeAddresses;return{isLoading:t,isOk:Boolean(null===n||void 0===n?void 0:n.ethereum),nodeAddresses:n}}(),a=function(){var e=ce(),t=e.isLoadingNodeHealth,n=e.nodeHealth;return{isLoading:t,isOk:Boolean("ok"===(null===n||void 0===n?void 0:n.status))}}(),i=function(){var e=re();return{isLoading:e.isLoadingHealth,isOk:e.health}}(),r=function(){var e=se(),t=e.topology;return{isLoading:e.isLoading,isOk:Boolean((null===t||void 0===t?void 0:t.connected)&&(null===t||void 0===t?void 0:t.connected)>0),topology:t}}(),c=function(){var e=le(),t=e.chequebookAddress,n=e.isLoadingChequebookAddress,a=de(),i=a.chequebookBalance,r=a.isLoadingChequebookBalance;return{isLoading:n||r,isOk:Boolean(null===t||void 0===t?void 0:t.chequebookAddress),chequebookBalance:i,chequebookAddress:t}}(),o=he(),s=[t,n,a,i,r,c];return s.every((function(e){return!e.isLoading}))?Object(b.jsxs)("div",{className:e.root,children:[Object(b.jsx)(_t,{userBeeVersion:t.userVersion,isLatestBeeVersion:t.isLatestBeeVersion,isOk:s.every((function(e){return e.isOk})),nodeTopology:r.topology,latestUrl:t.latestUrl,nodeAddresses:n.nodeAddresses}),"404"!==o.error&&Object(b.jsx)(dn,{deposit:o.deposit,error:o.error,isLockup:o.isLockup,isWork:o.isWork,reward:o.reward,pending:o.pending,totalEarns:o.totalEarns}),n.nodeAddresses&&c.chequebookAddress&&Object(b.jsx)(tn,{nodeAddresses:n.nodeAddresses,isLoadingNodeAddresses:n.isLoading,chequebookAddress:c.chequebookAddress,isLoadingChequebookAddress:c.isLoading}),Object(b.jsx)(Gt,{nodeVersion:t,ethereumConnection:n,debugApiConnection:a,apiConnection:i,topology:r,chequebook:c})]}):Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)(it.a,{})})}var bn=Object(y.a)({root:{flexGrow:1},title:{textAlign:"center",fontSize:26}});function hn(){var e=bn();return Object(b.jsx)(Mt.a,{className:e.root,children:Object(b.jsxs)(Xt.a,{children:[Object(b.jsx)(ct.a,{className:e.title,gutterBottom:!0,children:"Looks like your node is not connected"}),Object(b.jsx)("div",{style:{marginBottom:"20px",textAlign:"center"},children:Object(b.jsxs)("strong",{children:[Object(b.jsx)(o.b,{to:"/peers",children:"Click to run status checks"})," on your nodes connection or check out the"," ",Object(b.jsx)("a",{href:"https://docs.ethsana.org/",target:"_blank",rel:"noreferrer",children:"SANA Ant Docs"})]})}),Object(b.jsx)("div",{style:{marginBottom:"20px",textAlign:"center"},children:Object(b.jsxs)("p",{style:{marginTop:"50px"},children:["Still not working? Drop us a message on the Ethereum SANA"," ",Object(b.jsx)("a",{href:"https://discord.gg/c72mpR7Erf",target:"_blank",rel:"noreferrer",children:"Discord"})]})})]})})}var pn=n(161),xn=n(457),On=Object(y.a)((function(e){return Object(w.a)({root:{padding:e.spacing(.25),display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})}));function gn(){var e=On(),t=Object(a.useState)(""),n=Object(p.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(null),o=Object(p.a)(c,2),s=o[0],l=o[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(rt.a,{className:e.root,children:[Object(b.jsx)(pn.a,{className:e.input,placeholder:"Enter sana reference e.g. 7e078b0676b034a35d41e766e804551ae5ddd80182329c6a7fff3035dab9cd52",inputProps:{"aria-label":"retrieve file from sana"},value:i,onChange:function(e){r(e.target.value),L.Utils.Hex.isHexString(e.target.value,64)||L.Utils.Hex.isHexString(e.target.value,128)?l(null):l(new Error("Incorrect format of sana hash"))},onKeyUp:function(e){var t;t=e.key.toLocaleLowerCase(),s||"enter"!==t||window.open("".concat(V,"/bzz/").concat(i))}}),Object(b.jsx)(N.a,{href:"".concat(V,"/bzz/").concat(i),target:"_blank",disabled:null!==s||!i,className:e.iconButton,"aria-label":"download",children:Object(b.jsx)(xn.a,{})})]}),s&&Object(b.jsx)(Rt.a,{error:!0,children:s.message})]})}var mn=n(471),fn=n(240),vn=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2)}})}));function yn(e){var t=vn(),n=e.file.size>=1e8;return Object(b.jsx)(C.a,{in:n,children:Object(b.jsx)("div",{className:t.root,children:Object(b.jsxs)(A.a,{severity:"warning",children:[Object(b.jsx)(k.a,{children:"Warning"}),"The file you are trying to upload is above the recommended size. The chunks may not be synchronised properly over the network."]})})})}function wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return"".concat(e.substring(0,t),"...").concat(e.substring(e.length-n,e.length))}function An(e){var t=e.peerId,n=e.characterLength;return Object(b.jsx)(ct.a,{variant:"button",style:{fontFamily:"monospace, monospace"},children:wn(t,n,n)})}var kn={stamps:null,error:null,isLoading:!1,lastUpdate:null,start:function(){},stop:function(){},refresh:function(){return Promise.reject()}},Cn=Object(a.createContext)(kn);Cn.Consumer;function Nn(e){var t=e.depth,n=e.bucketDepth,a=e.utilization/Math.pow(2,t-n),i="".concat(Math.ceil(100*a),"%");return Object(u.a)(Object(u.a)({},e),{},{usage:a,usageText:i})}function Sn(e){var t=e.children,n=Object(a.useState)(kn.stamps),i=Object(p.a)(n,2),r=i[0],c=i[1],o=Object(a.useState)(kn.error),s=Object(p.a)(o,2),l=s[0],d=s[1],j=Object(a.useState)(kn.isLoading),u=Object(p.a)(j,2),h=u[0],x=u[1],O=Object(a.useState)(kn.lastUpdate),g=Object(p.a)(O,2),m=g[0],f=g[1],v=Object(a.useState)(null),y=Object(p.a)(v,2),w=y[0],A=y[1],k=function(){var e=Object(Dt.a)(Pt.a.mark((function e(){var t;return Pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,x(!0),e.next=6,J.getPostageStamps();case 6:t=e.sent,c(t.map(Nn)),f(Date.now()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),d(e.t0);case 14:return e.prev=14,x(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(k(),w){var e=setInterval(k,w);return function(){return clearInterval(e)}}}),[w]),Object(b.jsx)(Cn.Provider,{value:{stamps:r,error:l,isLoading:h,lastUpdate:m,start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;return A(e)},stop:function(){return A(null)},refresh:k},children:t})}var Bn=n(59),Ln=n(158),In={depth:"",amount:"",label:""},En=Object(y.a)((function(e){return Object(w.a)({wrapper:{margin:e.spacing(1),position:"relative"},field:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginBottom:-12}})}));function Tn(e){var t=e.label,n=En(),r=i.a.useState(!1),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useContext)(Cn).refresh,j=function(){return s(!0)},u=function(){return s(!1)},h=Object(d.b)().enqueueSnackbar;return Object(b.jsx)(Bn.c,{initialValues:In,onSubmit:function(){var e=Object(Dt.a)(Pt.a.mark((function e(t,n){var a,i,r;return Pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.depth&&t.amount){e.next=3;break}return e.abrupt("return");case 3:return a=BigInt(t.amount),i=Number.parseInt(t.depth),r=t.label?{label:t.label}:void 0,e.next=8,J.buyPostageStamp(a,i,r);case 8:return n.resetForm(),e.next=11,l();case 11:u(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),h("Error: ".concat(e.t0.message),{variant:"error"}),n.setSubmitting(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),validate:function(e){var t={};if(e.depth){var n=new E.a(e.depth);n.isInteger()?n.isLessThan(16)?t.depth="Minimal depth is 16":n.isGreaterThan(255)&&(t.depth="Depth has to be at most 255"):t.depth="Depth must be an integer"}else t.depth="Required field";if(e.amount){var a=new E.a(e.amount);a.isInteger()?a.isLessThanOrEqualTo(0)&&(t.amount="Amount must be greater than 0"):t.amount="Amount must be an integer"}else t.amount="Required field";return e.label&&!/^[0-9a-z]*$/i.test(e.label)&&(t.label="Label must be an alphanumeric string"),t},children:function(e){var a=e.submitForm,i=e.isValid,r=e.isSubmitting,c=e.values;return Object(b.jsxs)(Bn.b,{children:[Object(b.jsxs)(Re.a,{variant:"outlined",color:"primary",onClick:j,children:[t||"Buy Postage Stamp",r&&Object(b.jsx)(it.a,{size:24,className:n.buttonProgress})]}),Object(b.jsxs)(Fe.a,{open:o,onClose:u,"aria-labelledby":"form-dialog-title",children:[Object(b.jsx)(Ue.a,{id:"form-dialog-title",children:"Purchase new postage stamp"}),Object(b.jsxs)(We.a,{children:[Object(b.jsx)(zt.a,{children:"Provide the depth, amount and optionally the label of the postage stamp"}),Object(b.jsx)(Bn.a,{component:Ln.a,required:!0,name:"depth",autoFocus:!0,label:"Depth",fullWidth:!0,className:n.field}),Object(b.jsx)(Bn.a,{component:Ln.a,required:!0,name:"amount",label:"Amount",fullWidth:!0,className:n.field}),Object(b.jsx)(Bn.a,{component:Ln.a,name:"label",label:"Label",fullWidth:!0,className:n.field})]}),Object(b.jsxs)(qt.a,{children:[Object(b.jsx)(Re.a,{onClick:u,color:"primary",children:"Cancel"}),Object(b.jsx)("div",{className:n.wrapper,children:Object(b.jsxs)(Re.a,{color:"primary",disabled:r||!i||!c.amount||!c.depth,type:"submit",variant:"contained",onClick:a,children:["Create",r&&Object(b.jsx)(it.a,{size:24,className:n.buttonProgress})]})})]})]})]})}})}var Pn=n(242),Dn=n(69);function Hn(e){var t=e.stamps,n=e.selectedStamp,a=e.setSelected,r=i.a.useState(null),c=Object(p.a)(r,2),o=c[0],s=c[1];if(!t)return null;var l=function(){return s(null)};return Object(b.jsxs)("div",{children:[Object(b.jsx)(Re.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},children:"Change"}),Object(b.jsx)(Pn.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:l,children:t.map((function(e){return Object(b.jsxs)(Dn.a,{onClick:function(){a(e),l()},selected:e.batchID===(null===n||void 0===n?void 0:n.batchID),children:[Object(b.jsx)(ve.a,{children:e.usageText}),Object(b.jsx)(An,{peerId:e.batchID})]},e.batchID)}))})]})}function qn(){var e=Object(a.useState)(0),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(null),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(""),j=Object(p.a)(l,2),u=j[0],h=j[1],x=Object(a.useState)(!1),O=Object(p.a)(x,2),g=O[0],m=O[1],f=Object(a.useState)(null),v=Object(p.a)(f,2),y=v[0],w=v[1],A=Object(a.useContext)(Cn),k=A.isLoading,C=A.error,N=A.stamps,S=Object(d.b)().enqueueSnackbar;Object(a.useEffect)((function(){if(!y&&N&&N.length>0){var e=N.reduce((function(e,t){return t.usage<e.usage?t:e}),N[0]);w(e)}}),[k,C,N,y]);return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(fn.a,{onChange:function(e){e&&s(e[0])},filesLimit:1,maxFileSize:1e9},"dropzone-"+n),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:[y&&Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsxs)("small",{children:["with Postage Stamp"," ",Object(b.jsx)(ze.a,{avatar:Object(b.jsx)(mn.a,{children:y.usageText}),label:Object(b.jsx)(An,{peerId:y.batchID,characterLength:6}),deleteIcon:Object(b.jsx)(St,{value:y.batchID}),onDelete:function(){},variant:"outlined"})]}),Object(b.jsx)(Hn,{stamps:N,selectedStamp:y,setSelected:w})]}),!y&&Object(b.jsx)(Tn,{}),Object(b.jsx)(Re.a,{disabled:!o&&g&&!y,onClick:function(){null!==o&&null!==y&&(m(!0),Q.uploadFile(y.batchID,o).then((function(e){window.setTimeout((function(){s(null),h(e),i(n+1)}),0)})).catch((function(e){return S("Error uploading: ".concat(e.message),{variant:"error"})})).finally((function(){m(!1)})))},children:"Upload"}),o&&Object(b.jsx)(yn,{file:o}),g&&Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)(it.a,{})}),u&&Object(b.jsxs)("div",{style:{marginBottom:"15px",display:"flex"},children:[Object(b.jsx)("span",{children:u}),Object(b.jsx)(St,{value:u})]})]})]})})}var zn=n(241),Rn=n(468),Fn=n(459),Un=n(466);function Wn(e){var t=e.children,n=e.value,a=e.index,i=Object(zn.a)(e,["children","value","index"]);return Object(b.jsx)("div",Object(u.a)(Object(u.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i),{},{children:n===a&&Object(b.jsx)(Un.a,{p:3,children:Object(b.jsx)(ct.a,{children:t})})}))}var Vn=Object(y.a)((function(){return{root:{flexGrow:1}}}));function Kn(e){var t=e.values,n=Vn(),a=i.a.useState(0),r=Object(p.a)(a,2),c=r[0],o=r[1];return Object(b.jsxs)("div",{className:n.root,children:[Object(b.jsx)(Rn.a,{value:c,onChange:function(e,t){o(t)},"aria-label":"simple tabs example",children:t.map((function(e,t){var n=e.label;return Object(b.jsx)(Fn.a,{label:n},t)}))}),t.map((function(e,t){var n=e.component;return Object(b.jsx)(Wn,{value:c,index:t,children:n},t)}))]})}Object(y.a)({root:{flexGrow:1}});function Yn(){var e=re(),t=e.health,n=e.isLoadingHealth,a=ce(),i=a.nodeHealth,r=a.isLoadingNodeHealth;return n||r?Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)(it.a,{})}):t&&"ok"===(null===i||void 0===i?void 0:i.status)?Object(b.jsx)(at.a,{children:Object(b.jsx)(Kn,{values:[{label:"download",component:Object(b.jsx)(gn,{})},{label:"upload",component:Object(b.jsx)(qn,{})}]})}):Object(b.jsx)(hn,{})}var Gn=n(25),Mn=n(7),Xn=n(460),Qn=n(461),Jn=n(462),Zn=n(463),_n=n(435),$n=n(464),ea=n(191),ta=function(){return Object(b.jsx)("img",{src:"data:image/png;base64,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",width:"24",style:{border:"none",outline:0}})},na=Object(y.a)((function(e){return Object(w.a)({table:{minWidth:650},container:{maxHeight:"calc(100vh - 250px)"},headerCell:{background:"dark"===e.palette.type?"#424242":"#fff"},tableCell:{borderBottom:0}})})),aa=Object(Mn.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},border:0}}}))(Xn.a);var ia=function(e){var t=na(),n=Object(a.useState)([{peerId:"",rtt:"",loading:!1}]),i=Object(p.a)(n,2),r=i[0],c=i[1];return e.isLoading?Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)(it.a,{})}):e.error||null===e.peers?Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)("p",{children:"Failed to load peers"})}):Object(b.jsx)("div",{children:Object(b.jsx)(Qn.a,{className:t.container,component:rt.a,children:Object(b.jsxs)(Jn.a,{className:t.table,"aria-label":"peers table",stickyHeader:!0,children:[Object(b.jsx)(Zn.a,{children:Object(b.jsxs)(Xn.a,{children:[Object(b.jsx)(_n.a,{className:t.headerCell,children:"Index"}),Object(b.jsx)(_n.a,{className:t.headerCell,children:"Peer Id"}),Object(b.jsx)(_n.a,{className:t.headerCell,align:"right",children:"Actions"})]})}),Object(b.jsx)($n.a,{children:e.peers.map((function(e,n){return Object(b.jsxs)(aa,{children:[Object(b.jsx)(_n.a,{component:"th",scope:"row",className:t.tableCell,children:n+1}),Object(b.jsx)(_n.a,{className:t.tableCell,children:e.address}),Object(b.jsx)(_n.a,{align:"right",className:t.tableCell,children:Object(b.jsx)(ea.a,{title:"Ping node",children:Object(b.jsx)(Re.a,{color:"primary",onClick:function(){return t=e.address,c([].concat(Object(Gn.a)(r),[{peerId:t,rtt:"",loading:!0}])),void Z.connectivity.ping(t).then((function(e){c([].concat(Object(Gn.a)(r),[{peerId:t,rtt:e.rtt,loading:!1}]))})).catch((function(){c([].concat(Object(Gn.a)(r),[{peerId:t,rtt:"error",loading:!1}]))}));var t},children:r.find((function(t){return t.peerId===e.address}))?r.filter((function(t){return t.peerId===e.address}))[0].loading?Object(b.jsx)(it.a,{size:20}):r.filter((function(t){return t.peerId===e.address}))[0].rtt:Object(b.jsx)(ta,{})})})})]},e.address)}))})]})})})},ra=Object(y.a)({root:{minWidth:275},title:{fontSize:16},pos:{marginBottom:12}});function ca(e){var t=e.loading,n=e.label,a=e.statistic,i=ra();return Object(b.jsx)(Mt.a,{className:i.root,children:Object(b.jsxs)(Xt.a,{children:[t&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)($t.a,{width:180,height:25,animation:"wave"}),Object(b.jsx)($t.a,{width:180,height:35,animation:"wave"})]}),!t&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ct.a,{className:i.title,color:"textSecondary",gutterBottom:!0,children:n}),Object(b.jsx)(ct.a,{variant:"h5",component:"h2",children:a})]})]})})}var oa=function(e){var t=e.isLoading,n=e.topology;return Object(b.jsx)(nn.a,{style:{marginBottom:"20px",flexGrow:1},children:Object(b.jsxs)(nn.a,{container:!0,spacing:3,children:[Object(b.jsx)(nn.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:Object(b.jsx)(ca,{label:"Connected Peers",statistic:null===n||void 0===n?void 0:n.connected.toString(),loading:t})},1),Object(b.jsx)(nn.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:Object(b.jsx)(ca,{label:"Population",statistic:null===n||void 0===n?void 0:n.population.toString(),loading:t})},2),Object(b.jsx)(nn.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:Object(b.jsx)(ca,{label:"Depth",statistic:null===n||void 0===n?void 0:n.depth.toString(),loading:t})},3)]})})};function sa(){var e=se(),t=ce(),n=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),Z.connectivity.listPeers().then((function(e){i(e)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{peers:n,isLoading:o,error:j}}();return t.isLoadingNodeHealth?Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)(it.a,{})}):t.error?Object(b.jsx)(hn,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(oa,Object(u.a)({},e)),Object(b.jsx)(ia,Object(u.a)({},n))]})}function la(){return Object(b.jsx)(Ft,{successMessage:"Successful withdrawl.",errorMessage:"Error with withdrawing.",dialogMessage:"Specify the amount of SANA you would like to withdraw from your node.",label:"Withdraw",min:new I.BigNumber(0),action:Z.chequebook.withdraw})}var da=Object(y.a)((function(e){return Object(w.a)({root:{display:"flex"},buttons:{display:"flex",columnGap:e.spacing(1)},gridContainer:{display:"flex",width:"100%",marginLeft:e.spacing(1),marginRight:e.spacing(1),columnGap:e.spacing(1),rowGap:e.spacing(1),flex:"0 1 auto",flexWrap:"wrap",justifyContent:"space-between"},chequebookActions:{justifyContent:"space-between",display:"flex",marginBottom:e.spacing(1)}})}));var ja=function(e){var t=e.totalreceived,n=e.totalsent,a=e.chequebookBalance,i=e.isLoading,r=da();return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:r.chequebookActions,children:[Object(b.jsx)(ct.a,{component:"h2",variant:"h6",children:"Chequebook"}),Object(b.jsxs)("div",{className:r.buttons,children:[Object(b.jsx)(la,{}),Object(b.jsx)(Ut,{})]})]}),Object(b.jsxs)(Mt.a,{className:r.root,children:[!i&&Object(b.jsxs)(Xt.a,{className:r.gridContainer,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(ct.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Total Balance"}),Object(b.jsxs)(ct.a,{variant:"h5",children:[null===a||void 0===a?void 0:a.totalBalance.toFixedDecimal()," SANA"]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(ct.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Available Uncommitted Balance"}),Object(b.jsxs)(ct.a,{variant:"h5",children:[null===a||void 0===a?void 0:a.availableBalance.toFixedDecimal()," SANA"]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(ct.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Total Sent / Received"}),Object(b.jsxs)(ct.a,{variant:"h5",children:[n.toFixedDecimal()," / ",t.toFixedDecimal()," SANA"]})]})]}),i&&Object(b.jsxs)("div",{className:r.gridContainer,children:[Object(b.jsx)($t.a,{width:180,height:110,animation:"wave"}),Object(b.jsx)($t.a,{width:180,height:110,animation:"wave"}),Object(b.jsx)($t.a,{width:180,height:110,animation:"wave"})]})]})]})};function ua(e){var t=e.peerId,n=e.uncashedAmount,i=Object(a.useState)(!1),r=Object(p.a)(i,2),c=r[0],o=r[1],s=Object(a.useState)(!1),l=Object(p.a)(s,2),j=l[0],u=l[1],h=Object(d.b)().enqueueSnackbar,x=function(){o(!1)};return Object(b.jsxs)("div",{children:[Object(b.jsx)(Re.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},style:{marginLeft:"7px"},children:"Cashout"}),Object(b.jsxs)(Fe.a,{open:c,onClose:x,"aria-labelledby":"form-dialog-title",children:[Object(b.jsx)(Ue.a,{id:"form-dialog-title",children:"Cashout Cheque"}),Object(b.jsx)(We.a,{children:Object(b.jsxs)(zt.a,{style:{marginTop:"20px",overflowWrap:"break-word"},children:[j&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{children:["Cashing out ",Object(b.jsx)("strong",{children:n})," from Peer ",Object(b.jsx)("strong",{children:t}),". Please wait..."]}),Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)(it.a,{})})]}),!j&&Object(b.jsxs)("span",{children:["Are you sure you want to cashout ",Object(b.jsxs)("strong",{children:[n," SANA"]})," from Peer"," ",Object(b.jsx)("strong",{children:t}),"?"]})]})}),Object(b.jsxs)(qt.a,{children:[Object(b.jsx)(Re.a,{onClick:x,color:"primary",children:"Cancel"}),Object(b.jsx)(Re.a,{onClick:function(){t?(u(!0),Z.chequebook.peerCashout(t).then((function(e){o(!1),h(Object(b.jsxs)("span",{children:["Successfully cashed out cheque. Transaction",Object(b.jsx)(It,{hideBlockie:!0,transaction:!0,address:e,network:"blockscout.com/xdai/mainnet/"})]}),{variant:"success"})})).catch((function(e){h(Object(b.jsxs)("span",{children:["Error: ",e.message]}),{variant:"error"})})).finally((function(){u(!1)}))):h(Object(b.jsx)("span",{children:"Peer Id invalid"}),{variant:"error"})},color:"primary",disabled:j,children:"Yes Cashout"})]})]})]})}var ba=Object(y.a)((function(e){return Object(w.a)({table:{minWidth:650},values:{textAlign:"right",fontFamily:"monospace, monospace"},container:{maxHeight:"calc(100vh - 310px)"},headerCell:{background:"dark"===e.palette.type?"#424242":"#fff"}})}));var ha=function(e){var t=e.accounting,n=e.isLoadingUncashed;if(null===t)return null;var a=ba();return Object(b.jsx)(Qn.a,{component:rt.a,className:a.container,children:Object(b.jsxs)(Jn.a,{className:a.table,stickyHeader:!0,size:"small","aria-label":"Balances Table",children:[Object(b.jsx)(Zn.a,{children:Object(b.jsxs)(Xn.a,{children:[Object(b.jsx)(_n.a,{className:a.headerCell,children:"Peer"}),Object(b.jsx)(_n.a,{className:a.headerCell,align:"right",children:"Outstanding Balance"}),Object(b.jsx)(_n.a,{className:a.headerCell,align:"right",children:"Settlements Sent / Received"}),Object(b.jsx)(_n.a,{className:a.headerCell,align:"right",children:"Total"}),Object(b.jsx)(_n.a,{className:a.headerCell,align:"right",children:"Uncashed Amount"}),Object(b.jsx)(_n.a,{className:a.headerCell})]})}),Object(b.jsx)($n.a,{children:t.map((function(e){var t=e.peer,i=e.balance,r=e.received,c=e.sent,o=e.uncashedAmount,s=e.total;return Object(b.jsxs)(Xn.a,{children:[Object(b.jsx)(_n.a,{children:Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("small",{children:Object(b.jsx)(An,{peerId:t})}),Object(b.jsx)(St,{value:t})]})}),Object(b.jsxs)(_n.a,{className:a.values,children:[Object(b.jsx)("span",{style:{color:i.toBigNumber.isPositive()?"#32c48d":"#c9201f"},children:i.toFixedDecimal()})," ","SANA"]}),Object(b.jsxs)(_n.a,{className:a.values,children:["-",c.toFixedDecimal()," / ",r.toFixedDecimal()," SANA"]}),Object(b.jsxs)(_n.a,{className:a.values,children:[Object(b.jsx)("span",{style:{color:s.toBigNumber.isPositive()?"#32c48d":"#c9201f"},children:s.toFixedDecimal()})," ","SANA"]}),Object(b.jsxs)(_n.a,{className:a.values,children:[n&&"loading...",!n&&Object(b.jsxs)(b.Fragment,{children:[o.toBigNumber.isGreaterThan("0")?o.toFixedDecimal():"0"," SANA"]})]}),Object(b.jsx)(_n.a,{className:a.values,children:o.toBigNumber.isGreaterThan("0")&&Object(b.jsx)(ua,{uncashedAmount:o.toFixedDecimal(),peerId:t})})]},t)}))})]})})};var pa=function(){var e,t,n,i=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),Z.settlements.getSettlements().then((function(e){var t=e.totalReceived,n=e.settlements,a=e.totalSent,r={totalReceived:new te(t),totalSent:new te(a),settlements:n.map((function(e){var t=e.peer,n=e.received,a=e.sent;return{peer:t,received:new te(n),sent:new te(a)}}))};i(r)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{settlements:n,isLoadingSettlements:o,error:j}}(),r=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),c=Object(p.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(p.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){s(!0),Z.balance.balances().then((function(e){var t=e.balances.map((function(e){var t=e.peer,n=e.balance;return{peer:t,balance:new te(n)}}));i(t)})).catch((function(e){u(e)})).finally((function(){s(!1)}))}),[]),{peerBalances:n,isLoadingPeerBalances:o,error:j}}(),c=Object(a.useState)(null),o=Object(p.a)(c,2),s=o[0],l=o[1],d=Object(a.useState)(!1),j=Object(p.a)(d,2),b=j[0],h=j[1],x=Object(a.useState)(void 0),O=Object(p.a)(x,2),g=O[0],m=O[1],f=r.error||i.error||s;Object(a.useEffect)((function(){if(!b&&i.settlements&&!g&&!f){h(!0);var e=i.settlements.settlements.filter((function(e){return e.received.toBigNumber.gt("0")})).map((function(e){var t=e.peer;return Z.chequebook.getPeerLastCashout(t)}));Promise.all(e).then(m).catch(l).finally((function(){return h(!1)}))}}),[i,b,g,f]);var v=function(e,t,n){if(!e||!t)return null;var a={};return e.forEach((function(e){var t=e.peer,n=e.balance;return a[t]={peer:t,balance:n,sent:new te("0"),received:new te("0"),uncashedAmount:new te("0"),total:n}})),t.forEach((function(e){var t=e.peer,n=e.sent,i=e.received;return a[t]=Object(u.a)(Object(u.a)({},a[t]),{},{sent:n,received:i,total:new te(a[t].balance.toBigNumber.plus(i.toBigNumber).minus(n.toBigNumber))})})),n?(null===n||void 0===n||n.forEach((function(e){var t=e.peer,n=e.uncashedAmount;a[t].uncashedAmount=new te(n)})),Object.values(a).sort((function(e,t){return t.uncashedAmount.toBigNumber.minus(e.uncashedAmount.toBigNumber).toNumber()}))):Object.values(a)}(r.peerBalances,null===(e=i.settlements)||void 0===e?void 0:e.settlements,g);return{isLoading:i.isLoadingSettlements||r.isLoadingPeerBalances,isLoadingUncashed:b,error:f,accounting:v,totalsent:(null===(t=i.settlements)||void 0===t?void 0:t.totalSent)||new te("0"),totalreceived:(null===(n=i.settlements)||void 0===n?void 0:n.totalReceived)||new te("0")}},xa=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",display:"grid",rowGap:e.spacing(3)}})}));function Oa(){var e=xa(),t=le(),n=t.chequebookAddress,a=t.isLoadingChequebookAddress,i=de(),r=i.chequebookBalance,c=i.isLoadingChequebookBalance,o=oe(),s=o.nodeAddresses,l=o.isLoadingNodeAddresses,d=re(),j=d.health,u=d.isLoadingHealth,h=ce(),p=h.nodeHealth,x=h.isLoadingNodeHealth,O=pa(),g=O.isLoading,m=O.totalsent,f=O.totalreceived,v=O.accounting,y=O.isLoadingUncashed,w=O.error;return u||x?Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)(it.a,{})}):"ok"===(null===p||void 0===p?void 0:p.status)&&j?Object(b.jsxs)("div",{className:e.root,children:[Object(b.jsx)(ja,{chequebookAddress:n,isLoading:a||g||c,chequebookBalance:r,totalsent:m,totalreceived:f}),Object(b.jsx)(tn,{nodeAddresses:s,isLoadingNodeAddresses:l,chequebookAddress:n,isLoadingChequebookAddress:a}),w&&Object(b.jsxs)(at.a,{style:{textAlign:"center",padding:"50px"},children:["Error loading accounting details: ",w.message]}),!w&&Object(b.jsx)(ha,{accounting:v,isLoadingUncashed:y})]}):Object(b.jsx)(hn,{})}var ga=n(83),ma=n(55),fa=n(185),va=n.n(fa),ya=n(458),wa=n(151),Aa=n.n(wa),ka=Object(ga.b)(),Ca=Object(ma.a)((function(){return{root:{"& .MuiDataGrid-cell--editing":{backgroundColor:"rgb(255,215,115, 0.19)",color:"#1a3e72"},"& .Mui-error":{backgroundColor:"rgb(126,10,15, ".concat(0,")"),color:"#ff4343"}}}}),{defaultTheme:ka});function Na(){var e=Object(a.useState)(0),t=Object(p.a)(e,2),n=t[0],r=t[1],c=Ze(),o=c.nodeApiList,s=c.refresh,l=Object(a.useState)(""),d=Object(p.a)(l,2),j=d[0],u=d[1],h=Object(a.useState)(""),x=Object(p.a)(h,2),O=x[0],g=x[1];function m(){u("No available data found")}function f(e){try{var t=JSON.parse(e.target.result);if(t.constructor===Array){var n=[];t.forEach((function(e){try{var t=e.nodeName,a=e.apiHost,i=e.debugApiHost,r=e.authorizationCode;U(a||"")&&U(i||"")&&n.push({id:D(),nodeName:t||"",apiHost:a,debugApiHost:i,authorizationCode:r||""})}catch(c){}}));var a=Date.now().toString().substring(0,10);(n=n.map((function(e,t){return e.nodeName||(e.nodeName="imported".concat(a).concat(t+1)),e}))).length>0?(localStorage.node_api=JSON.stringify(o.concat(n)),s(),g("".concat(n.length," node API(s) have been imported"))):m(),console.log(n)}else m()}catch(i){m()}}return Object(b.jsxs)("div",{children:[Object(b.jsxs)(at.a,{children:[Object(b.jsx)(ct.a,{variant:"h4",gutterBottom:!0,children:"Settings Node API"}),Object(b.jsx)(ct.a,{variant:"subtitle1",children:"The data is stored locally, please do not clear the browser cache."}),Object(b.jsx)("div",{style:{height:"20px"}}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(b.jsxs)(Rn.a,{value:n,onChange:function(e,t){r(t)},children:[Object(b.jsx)(Fn.a,{label:"connected node api"}),Object(b.jsx)(Fn.a,{label:"manage node api"})]}),Object(b.jsxs)("label",{htmlFor:"file",style:{display:"block",cursor:"pointer"},children:[Object(b.jsx)("input",{type:"file",id:"file",accept:".json",name:"file",onChange:function(e){var t=new FileReader;t.onload=f;try{t.readAsText(e.target.files[0])}catch(n){}e.target.value=""},hidden:!0}),Object(b.jsx)(ea.a,{placement:"left",title:Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsx)(ct.a,{color:"inherit",children:"Import Node API from json file"}),Object(b.jsx)("em",{children:"eg:"}),Object(b.jsxs)("code",{children:[Object(b.jsx)("p",{children:"["}),Object(b.jsxs)("p",{children:["\xa0\xa0","{"]}),Object(b.jsx)("p",{children:'\xa0\xa0\xa0\xa0"nodeName":\xa0"Not required",'}),Object(b.jsx)("p",{style:{whiteSpace:"nowrap"},children:'\xa0\xa0\xa0\xa0"authorizationCode":\xa0"Not required",'}),Object(b.jsx)("p",{children:'\xa0\xa0\xa0\xa0"apiHost":\xa0"http://localhost",'}),Object(b.jsx)("p",{children:'\xa0\xa0\xa0\xa0"debugApiHost":\xa0"http://localhost"'}),Object(b.jsxs)("p",{children:["\xa0\xa0","}"]}),Object(b.jsx)("p",{children:"]"})]})]}),children:Object(b.jsx)(Re.a,{variant:"contained",color:"primary",endIcon:Object(b.jsx)(Aa.a,{}),onClick:function(){var e;null===(e=document.getElementById("file"))||void 0===e||e.click()},children:"Import"})})]})]}),Object(b.jsx)("div",{style:{height:"20px"}}),0===n&&Object(b.jsx)(Sa,{}),1===n&&Object(b.jsx)(Ba,{})]}),Object(b.jsx)(ya.a,{open:Boolean(j),anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){u("")},children:Object(b.jsx)(A.a,{severity:"error",children:j})}),Object(b.jsx)(ya.a,{open:Boolean(O),anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){g("")},children:Object(b.jsx)(A.a,{severity:"success",children:O})})]})}function Sa(){var e=Ze(),t=e.nodeApi,n=e.exist,i=Object(a.useState)(t.nodeName),r=Object(p.a)(i,2),c=r[0],o=r[1],s=Object(a.useState)(t.apiHost),l=Object(p.a)(s,2),d=l[0],j=l[1],u=Object(a.useState)(t.debugApiHost),h=Object(p.a)(u,2),x=h[0],O=h[1],g=Object(a.useState)(null===t||void 0===t?void 0:t.authorizationCode),m=Object(p.a)(g,2),f=m[0],v=m[1],y=Object(a.useState)({error:!1,helperText:""}),w=Object(p.a)(y,2),k=w[0],C=w[1],N=Object(a.useState)({error:!1,helperText:""}),S=Object(p.a)(N,2),B=S[0],L=S[1],I=Object(a.useState)(""),E=Object(p.a)(I,2),T=E[0],P=E[1],D=Object(a.useState)(""),H=Object(p.a)(D,2),q=H[0],F=H[1],W=function(e){if(e){if(n("nodeName",c))return void P("Node name already exists");if(n("apiHost",d))return void P("API endpoint already exists");if(n("debugApiHost",x))return void P("Debug API endpoint already exists")}else{if(n("nodeName",c,t.id))return void P("Node name already exists");if(n("apiHost",d,t.id))return void P("API endpoint already exists");if(n("debugApiHost",x,t.id))return void P("Debug API endpoint already exists")}z({id:e?"":t.id,nodeName:c,apiHost:d,debugApiHost:x,authorizationCode:f}),F(e?"Add success":"Update success"),window.location.reload()},V=k.error||B.error;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(rt.a,{children:Object(b.jsx)(Ve.a,{label:"Node Name",style:{margin:0},placeholder:"Any non-empty string\uff08ex: node1\u3001node2 ...\uff09",helperText:"Enter node name",fullWidth:!0,defaultValue:c,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){o(e.target.value)},variant:"filled"})}),Object(b.jsx)(rt.a,{style:{marginTop:"20px"},children:Object(b.jsx)(Ve.a,{label:"Authorization",style:{margin:0},placeholder:"Enter node dashboard-authorization(optional)",fullWidth:!0,defaultValue:f,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){var t=e.target.value;v(t.trim())},variant:"filled",helperText:"If your sana.yaml is configured with dashboard-authorization, please enter the value here, otherwise you will not be able to connect to the node(ant-linux-amd64>0.1.0)"})}),Object(b.jsx)(rt.a,{style:{marginTop:"20px"},children:Object(b.jsx)(Ve.a,{label:"API Endpoint",style:{margin:0},placeholder:"ex: 127.0.0.0.1:1633",error:k.error,helperText:k.helperText||"Enter node host override / port",fullWidth:!0,defaultValue:d,margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){var t=e.target.value.trim();j(t),t?U(t)?C({error:!1,helperText:""}):C({error:!0,helperText:"Url is invalid"}):C({error:!0,helperText:"Please enter node host"})},variant:"filled"})}),Object(b.jsx)(rt.a,{style:{marginTop:"20px"},children:Object(b.jsx)(Ve.a,{label:"Debug API Endpoint",style:{margin:0},placeholder:"ex: 127.0.0.0.1:1635",error:B.error,helperText:B.helperText||"Enter node debug host override / port",fullWidth:!0,defaultValue:x,onChange:function(e){var t=e.target.value.trim();O(t),t?U(t)?L({error:!1,helperText:""}):L({error:!0,helperText:"Url is invalid"}):L({error:!0,helperText:"Please enter node host"})},margin:"normal",InputLabelProps:{shrink:!0},variant:"filled"})}),Object(b.jsxs)("div",{style:{marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(b.jsx)(Re.a,{variant:"contained",color:"primary",onClick:function(){return W(!1)},disabled:V,children:"update"}),Object(b.jsx)("div",{style:{width:"30px"}}),Object(b.jsx)(Re.a,{variant:"contained",color:"primary",onClick:function(){return W(!0)},disabled:V,children:"add"})]}),Object(b.jsx)("div",{children:Boolean(t.id)&&Object(b.jsx)(ea.a,{title:"Delete",children:Object(b.jsx)(Re.a,{"aria-label":"delete",onClick:function(){R(t.id),window.location.reload()},children:Object(b.jsx)(va.a,{})})})})]}),Object(b.jsx)(ya.a,{open:Boolean(T),anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){P("")},children:Object(b.jsx)(A.a,{severity:"error",children:T})}),Object(b.jsx)(ya.a,{open:Boolean(q),anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){F("")},children:Object(b.jsx)(A.a,{severity:"success",children:q})})]})}function Ba(){var e=Ze(),t=e.nodeApi,n=e.nodeApiList,r=e.refresh,c=e.exist,o=Object(a.useState)({}),s=Object(p.a)(o,2),l=(s[0],s[1]),d=Ca(),j=[{field:"nodeName",headerName:"Node Name",width:180,editable:!0},{field:"authorizationCode",headerName:"Authorization",width:180,editable:!0},{field:"apiHost",headerName:"Api Endpoint",width:260,editable:!0},{field:"debugApiHost",headerName:"Debug Api Endpoint",width:260,editable:!0},{headerName:"Actions",field:"null",renderCell:function(e){var n=e.row.id;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ea.a,{title:"Delete",children:Object(b.jsx)(Re.a,{onClick:function(){g(n)},children:Object(b.jsx)(va.a,{})})}),Object(b.jsx)("div",{style:{width:"12px"}}),n===t.id?Object(b.jsx)(ze.a,{label:"CONNECTED",size:"small",icon:Object(b.jsx)(Me.a,{})}):Object(b.jsx)(Re.a,{variant:"contained",color:"primary",onClick:function(){O(n)},children:"CONNECT"})]})},filterable:!1,flex:1,hideSortIcons:!0,sortable:!1,editable:!1}],h=i.a.useCallback((function(e){var t=Object(u.a)({},e);Object.keys(t).forEach((function(e){var n="";if(t[e].apiHost?n="apiHost":t[e].debugApiHost?n="debugApiHost":t[e].nodeName&&(n="nodeName"),n){var a=t[e][n].value,i=U(a);t[e][n]=Object(u.a)(Object(u.a)({},t[e][n]),{},{error:("nodeName"===n?!a:!i)||c(n,a,e)})}})),l(t)}),[]),O=function(e){F(e),window.location.reload()},g=function(e){R(e),r(),e===t.id&&window.location.reload()};return Object(b.jsx)(rt.a,{children:Object(b.jsx)(Xe.a,{className:d.root,autoHeight:!0,rows:n,columns:j,disableSelectionOnClick:!0,onEditRowsModelChange:h,onCellEditCommit:function(e){var t,n=e,a=n.row,i=n.field,c=n.value;z(Object(u.a)(Object(u.a)({},a),{},(t={},Object(x.a)(t,i,c),Object(x.a)(t,"setActive",!1),t))),r()}})})}var La=Object(y.a)({table:{minWidth:650},values:{textAlign:"right",fontFamily:"monospace, monospace"}});var Ia=function(e){var t=e.postageStamps;if(null===t)return null;var n=La();return Object(b.jsx)(Qn.a,{component:rt.a,children:Object(b.jsxs)(Jn.a,{className:n.table,size:"small","aria-label":"Balances Table",children:[Object(b.jsx)(Zn.a,{children:Object(b.jsxs)(Xn.a,{children:[Object(b.jsx)(_n.a,{children:"Batch ID"}),Object(b.jsx)(_n.a,{align:"right",children:"Usage"})]})}),Object(b.jsx)($n.a,{children:t.map((function(e){var t=e.batchID,a=e.usageText;return Object(b.jsxs)(Xn.a,{children:[Object(b.jsx)(_n.a,{children:Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("small",{children:Object(b.jsx)(An,{peerId:t})}),Object(b.jsx)(St,{value:t})]})}),Object(b.jsx)(_n.a,{className:n.values,children:a})]},t)}))})]})})};function Ea(e){var t=e.date,n=Object(a.useState)("never"),i=Object(p.a)(n,2),r=i[0],c=i[1],o=function(){c(t?"".concat(((Date.now()-t)/1e3).toFixed()," seconds ago"):"never")};return Object(a.useEffect)((function(){o();var e=setInterval(o,1e3);return function(){return clearInterval(e)}}),[t]),Object(b.jsxs)("span",{children:["Last Update: ",r]})}var Ta=Object(y.a)((function(e){return Object(w.a)({root:{width:"100%",display:"grid",rowGap:e.spacing(2)},actions:{display:"flex",width:"100%",columnGap:e.spacing(1),rowGap:e.spacing(1),flex:"0 1 auto",flexWrap:"wrap",alignItems:"center"}})}));function Pa(){var e=Ta(),t=re(),n=t.health,i=t.isLoadingHealth,r=ce(),c=r.nodeHealth,o=r.isLoadingNodeHealth,s=Object(a.useContext)(Cn),l=s.stamps,d=s.isLoading,j=s.error,u=s.lastUpdate,h=s.start,p=s.stop;return Object(a.useEffect)((function(){return h(),function(){return p()}}),[]),i||o?Object(b.jsx)(at.a,{style:{textAlign:"center",padding:"50px"},children:Object(b.jsx)(it.a,{})}):"ok"===(null===c||void 0===c?void 0:c.status)&&n?Object(b.jsxs)("div",{className:e.root,children:[j&&Object(b.jsxs)(at.a,{style:{textAlign:"center",padding:"50px"},children:["Error loading postage stamps details: ",j.message]}),!j&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:e.actions,children:[Object(b.jsx)(Tn,{}),Object(b.jsx)(Ea,{date:u}),Object(b.jsx)("div",{style:{height:"5px"},children:d&&Object(b.jsx)(it.a,{})})]}),Object(b.jsx)(Ia,{postageStamps:l})]})]}):Object(b.jsx)(hn,{})}var Da=function(){return Object(b.jsxs)(j.c,{children:[Object(b.jsx)(h,{exact:!0,path:"/",layout:nt,component:un}),Object(b.jsx)(h,{exact:!0,path:"/files/",layout:nt,component:Yn}),Object(b.jsx)(h,{exact:!0,path:"/peers/",layout:nt,component:sa}),Object(b.jsx)(h,{exact:!0,path:"/accounting/",layout:nt,component:Oa}),Object(b.jsx)(h,{exact:!0,path:"/settings/",layout:nt,component:Na}),Object(b.jsx)(h,{exact:!0,path:"/stamps/",layout:nt,component:Pa})]})},Ha=n(155),qa=function(e){return{MuiTab:{root:{backgroundColor:"transparent",fontWeight:e.typography.fontWeightRegular,marginRight:e.spacing(4),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{color:e.palette.secondary,opacity:1},"&$selected":{color:e.palette.secondary,fontWeight:e.typography.fontWeightMedium},"&:focus":{color:e.palette.secondary}}},MuiTabs:{root:{borderBottom:"none"},indicator:{backgroundColor:e.palette.primary.main}}}},za={MuiTab:{disableRipple:!0}},Ra=Object(ga.b)({palette:{type:"light",background:{default:"#ffffff",appBar:"#212121",paper:"#fff"},primary:{light:Ha.a.A200,main:"#4086e0",dark:"#086cf0"},secondary:{main:"#333333",light:"",dark:"#ff"}},typography:{fontFamily:["Work Sans","Montserrat","Nunito","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}}),Fa=Object(ga.b)({palette:{type:"dark",background:{default:"#303030",paper:"#424242",appBar:"#212121"},primary:{light:"#fafafa",main:"#4086e0",dark:"#086cf0"},secondary:{main:"#1f2937"}},typography:{fontFamily:["Work Sans","Montserrat","Nunito","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}});Fa.overrides=qa(Fa),Fa.props=za,Ra.overrides=qa(Ra),Ra.props=za;var Ua=Object(a.createContext)({theme:"dark"}),Wa=function(){return Object(b.jsx)(ie,{children:Object(b.jsx)(s.a,{theme:Fa,children:Object(b.jsx)(Sn,{children:Object(b.jsx)(d.a,{children:Object(b.jsxs)(Ua.Provider,{value:{theme:"dark"},children:[Object(b.jsx)(l.a,{}),Object(b.jsx)(o.a,{children:Object(b.jsx)(Da,{})})]})})})})})},Va=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,473)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(Wa,{})}),document.getElementById("root")),Va()}},[[369,1,2]]]);